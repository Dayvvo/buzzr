<!DOCTYPE html>
<!-- saved from url=(0044)https://realpython.com/binary-search-python/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./How to Do a Binary Search in Python – Real Python_files/client.js.download"></script><script src="./How to Do a Binary Search in Python – Real Python_files/org"></script><script src="./How to Do a Binary Search in Python – Real Python_files/2220911568135371" async=""></script><script async="" src="./How to Do a Binary Search in Python – Real Python_files/fbevents.js.download"></script><script type="text/javascript" async="" src="./How to Do a Binary Search in Python – Real Python_files/6214500.js.download"></script><script type="text/javascript" async="" src="./How to Do a Binary Search in Python – Real Python_files/videoplayer.js.download"></script>
<link href="https://files.realpython.com/" rel="preconnect">
<title>How to Do a Binary Search in Python – Real Python</title>
<meta name="author" content="Real Python">
<meta name="description" content="Binary search is a classic algorithm in computer science. In this step-by-step tutorial, you&#39;ll learn how to implement this algorithm in Python. You&#39;ll learn how to leverage existing libraries as well as craft your own binary search Python implementation.">
<meta name="keywords" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="./How to Do a Binary Search in Python – Real Python_files/font.32be62914940.css">
<link rel="stylesheet" href="./How to Do a Binary Search in Python – Real Python_files/realpython.min.313782b912e4.css">
<link rel="canonical" href="https://realpython.com/binary-search-python/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://files.realpython.com/media/How-to-Do-a-Binary-Search-in-Python_Watermarked.e06f21f5a58b.jpg">
<meta property="og:image" content="https://files.realpython.com/media/How-to-Do-a-Binary-Search-in-Python_Watermarked.e06f21f5a58b.jpg">
<meta name="twitter:creator" content="@realpython">
<meta name="twitter:site" content="@realpython">
<meta property="og:title" content="How to Do a Binary Search in Python – Real Python">
<meta property="og:type" content="article">
<meta property="og:url" content="https://realpython.com/binary-search-python/">
<meta property="og:description" content="Binary search is a classic algorithm in computer science. In this step-by-step tutorial, you&#39;ll learn how to implement this algorithm in Python. You&#39;ll learn how to leverage existing libraries as well as craft your own binary search Python implementation.">
<link href="https://realpython.com/static/favicon.68cbf4197b0c.png" rel="icon">
<link href="https://realpython.com/atom.xml" rel="alternate" title="Real Python" type="application/atom+xml">
<link rel="manifest" href="https://realpython.com/manifest.json">
<script async="" type="text/javascript" src="./How to Do a Binary Search in Python – Real Python_files/gpt.js.download"></script><script async="" src="./How to Do a Binary Search in Python – Real Python_files/analytics.js.download"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35184939-1', 'auto', {'allowLinker': true});
  
  
  ga('send', 'pageview');
  
</script>
<style type="text/css">#waldo-sticky-footer-wrapper {position: fixed; width: 100%; bottom: 0px; left: 0px; text-align: center; z-index: 9000;}#waldo-sticky-footer-wrapper > div {position: relative; display: inline-block}#waldo-sticky-footer-wrapper iframe, #waldo-sticky-footer-wrapper div {margin-left: auto;margin-right: auto;}.waldo-sticky-sidebar{position: fixed; top: 10px;z-index: 90}.waldo-sticky-css{position: sticky; top: 10px; z-index: 90}.waldo-overlay{position: fixed;height: 100%;width: 100%;top: 0;left: 0;z-index: 105;background: rgba(0,0,0,0.7);}#waldo-counter {position: absolute;bottom: 0;right: 0;color: #fff;font-size: 30px;padding: 15px;}.waldo-bfleft {position: fixed; left: 0; top: 10px;z-index:101;}.waldo-bfright {position: fixed; right: 0; top: 10px;z-index:101;}#nm-ccpa-widget {width: 400px;}#nm-ccpa-widget {position: fixed; right: 20px; z-index: 9999; margin-bottom: 15px;box-shadow: 0 3px 36px 0 rgba(0,0,0,0.3); background-color: #fff;border-radius: 10px;bottom: 20px;margin-top: 10px;font-size: 14px;}.nm-ccpa-widget-header {background: #179f84;color: #fff;padding: 20px;}.nm-ccpa-widget-header .nm-ccpa-widget-main-title {margin-bottom: 0;margin-top: 0;font-size: 16px;font-weight: bold;}.nm-ccpa-widget-body {padding: 20px;background: #fff;}.nm-ccpa-widget-body label {font-size: 16px;}.nm-ccpa-widget-submit-btn {margin-top: 15px;padding-left: 25px;}.nm-ccpa-widget-submit-btn input {background: #179f84;color: #fff;padding: 10px 20px;border-radius: 8px;border: 0;outline: 0;}.nm-ccpa-widget-submit-btn input:hover,.nm-ccpa-widget-submit-btn input:focus {cursor: pointer;}.nm-ccpa-widget-checkbox-label {font-size: 20px;}.nm-ccpa-widget-header {position: relative;}.nm-ccpa-widget-close-btn {position: absolute;right: 10px;top: 10px;}.nm-ccpa-widget-close-btn a {color: #fff;font-size: 20px;text-decoration: none;}.nm-ccpa-widget-message {padding-left: 25px;}#waldo-tag-6038 {clear: both !important;}div[class^="app_gdpr-"] a {color: #41afbb !important; text-decoration: underline !important}#waldo-close-button {position: absolute; right: 0;top: -24px;}#waldo-close-button a {border: 1px solid rgba(0,0,0,.35);padding: 3px;font-size: 12px;color: #fff;font-weight: bold;background-color: #777;}</style><script type="text/javascript">googletag.cmd.push(function() {googletag.pubads().addEventListener('slotRenderEnded', function(event) {waldoAddCloseBtn(event);});googletag.pubads().enableSingleRequest();googletag.enableServices();gptAdSlots[4996] = googletag.defineSlot('/124067137/realpython728x90FS_1', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-4996').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-4996');gptAdSlots[4998] = googletag.defineSlot('/124067137/realpython728x90FS_2', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-4998').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-4998');gptAdSlots[5000] = googletag.defineSlot('/124067137/realpython728x90FS_3', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5000').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5000');gptAdSlots[5002] = googletag.defineSlot('/124067137/realpython728x90FS_4', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5002').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5002');gptAdSlots[5004] = googletag.defineSlot('/124067137/realpython728x90FS_5', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5004').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5004');gptAdSlots[5257] = googletag.defineSlot('/124067137/realpython728x90FS_6', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5257').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5257');gptAdSlots[5259] = googletag.defineSlot('/124067137/realpython728x90FS_7', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5259').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5259');gptAdSlots[5261] = googletag.defineSlot('/124067137/realpython728x90FS_8', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5261').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5261');gptAdSlots[5263] = googletag.defineSlot('/124067137/realpython728x90FS_9', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5263').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5263');gptAdSlots[5265] = googletag.defineSlot('/124067137/realpython728x90FS_10', [[728, 90], [300, 250], [320, 50]], 'waldo-tag-5265').defineSizeMapping(googletag.sizeMapping().addSize([1024, 0], [[728, 90], [300, 250]]).addSize([768, 0], [[300, 250], [320, 50]]).addSize([0, 0], [[300, 250], [320, 50]]).build()).addService(googletag.pubads());googletag.display('waldo-tag-5265');});</script><script src="./How to Do a Binary Search in Python – Real Python_files/OneSignalPageSDKES6.js.download" async=""></script><script src="./How to Do a Binary Search in Python – Real Python_files/count-data.js.download"></script><script src="./How to Do a Binary Search in Python – Real Python_files/pubads_impl_2020082501.js.download" async=""></script><link rel="stylesheet" href="./How to Do a Binary Search in Python – Real Python_files/OneSignalSDKStyles.css"><link rel="preload" href="https://adservice.google.com.ng/adsid/integrator.js?domain=realpython.com" as="script"><script type="text/javascript" src="https://adservice.google.com.ng/adsid/integrator.js?domain=realpython.com"></script><link rel="preload" href="https://adservice.google.com/adsid/integrator.js?domain=realpython.com" as="script"><script type="text/javascript" src="https://adservice.google.com/adsid/integrator.js?domain=realpython.com"></script><link rel="prefetch" href="https://79d0dd8695cf8b4eebcde5f4b6183754.safeframe.googlesyndication.com/safeframe/1-0-37/html/container.html"><link rel="prefetch" href="https://tpc.googlesyndication.com/safeframe/1-0-37/html/container.html"></head>
<body>
<nav class="navbar fixed-top navbar-expand-lg navbar-dark flex-column nav-message">
<div class="container flex-row">
<a class="navbar-brand" href="https://realpython.com/">
<img src="./How to Do a Binary Search in Python – Real Python_files/real-python-logo.893c30edea53.svg" height="40" class="d-inline-block align-top" alt="Real Python">
</a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarSupportedContent">
<ul class="navbar-nav mr-2 flex-fill">
<li class="nav-item">
<a class="nav-link" href="https://realpython.com/start-here/">Start&nbsp;Here</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="https://realpython.com/binary-search-python/#" id="navbarDropdownLibrary" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<span class="fa fa-graduation-cap"></span> Learn Python
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownLibrary">
<a class="dropdown-item" href="https://realpython.com/" style="color: #ff7e73; line-height: 110%;"><i class="fa fa-fw mr-1 fa-graduation-cap"></i> Python Tutorials →<br><small class="text-secondary">In-depth articles and tutorials</small></a>
<a class="dropdown-item" href="https://realpython.com/courses/" style="color: #abe5b1; line-height: 110%;"><i class="fa fa-fw mr-1 fa-film"></i> Video Courses →<br><small class="text-secondary">Step-by-step video lessons</small></a>
<a class="dropdown-item" href="https://realpython.com/quizzes/" style="color: #abe0e5; line-height: 110%;"><i class="fa fa-fw mr-1 fa-trophy"></i> Quizzes →<br><small class="text-secondary">Check your learning progress</small></a>
<a class="dropdown-item" href="https://realpython.com/learning-paths/" style="color: #ffc873; line-height: 110%;"><i class="fa fa-fw mr-1 fa-map-o"></i> Learning Paths →<br><small class="text-secondary">Guided study plans for accelerated learning</small></a>
<a class="dropdown-item" href="https://realpython.com/community/" style="color: #e5c6ab; line-height: 110%;"><i class="fa fa-fw mr-1 fa-slack"></i> Community →<br><small class="text-secondary">Learn with other Pythonistas</small></a>
<a class="dropdown-item pb-3" href="https://realpython.com/tutorials/all/" style="color: #b8abe5; line-height: 110%;"><i class="fa fa-fw mr-1 fa-tags"></i> Topics →<br><small class="text-secondary">Focus on a specific area or skill level</small></a>
<a class="dropdown-item border-top" href="https://realpython.com/account/join/"><i class="fa fa-fw fa-star text-warning"></i> Unlock All Content</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="https://realpython.com/binary-search-python/#" id="navbarDropdownBooksCourses" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
Store
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownBooksCourses">
<a class="dropdown-item" href="https://realpython.com/account/join/"><i class="fa fa-fw fa-star text-warning"></i> RP Membership</a>
<a class="dropdown-item" href="https://realpython.com/products/python-basics-book/">Python Basics Book</a>
<a class="dropdown-item" href="https://realpython.com/products/python-tricks-book/">Python Tricks Book</a>
<a class="dropdown-item" href="https://realpython.com/products/cpython-internals-book/">CPython Internals Book</a>
<a class="dropdown-item" href="https://realpython.com/products/real-python-course/">The Real Python Course</a>
<a class="dropdown-item" href="https://realpython.com/products/managing-python-dependencies/">Managing Python Dependencies</a>
<a class="dropdown-item" href="https://realpython.com/products/sublime-python/">Sublime Text + Python Setup</a>
<a class="dropdown-item" href="https://realpython.com/products/pythonic-wallpapers/">Pythonic Wallpapers Pack</a>
<a class="dropdown-item" href="https://nerdlettering.com/" target="_blank">Python Mugs, T-Shirts, and More</a>
<a class="dropdown-item" href="https://www.pythonistacafe.com/" target="_blank">Pythonista Cafe Community</a>
<a class="dropdown-item border-top" href="https://realpython.com/products/">Browse All »</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="https://realpython.com/binary-search-python/#" id="navbarDropdownMore" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
More
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMore">
<a class="dropdown-item" href="https://realpython.com/newsletter/">Python Newsletter</a>
<a class="dropdown-item" href="https://realpython.com/podcasts/rpp/">Python Podcast</a>
<a class="dropdown-item" href="https://www.pythonjobshq.com/" target="_blank">Python Job Board</a>
<a class="dropdown-item" href="https://realpython.com/team/">Meet the Team</a>
<a class="dropdown-item" href="https://realpython.com/write-for-us/">Become a Tutorial Author</a>
<a class="dropdown-item" href="https://realpython.com/become-an-instructor/">Become a Video Instructor</a>
</div>
</li>
</ul>
<div class="d-block d-xl-none">
<ul class="navbar-nav">
<li class="nav-item">
<a class="nav-link" href="https://realpython.com/search" title="Search"><span class="d-block d-lg-none"><i class="fa fa-search"></i> Search</span><span class="d-none d-lg-block"><i class="fa fa-search"></i></span></a>
</li>
</ul>
</div>
<div class="d-none d-xl-flex align-items-center mr-2">
<form class="form-inline" action="https://realpython.com/search" method="GET">
<a class="position-absolute" href="https://realpython.com/search" title="Search"><i class="fa fa-search fa-fw text-muted pl-2"></i></a>
<input class="search-field form-control form-control-md mr-sm-1 mr-lg-2 w-100" style="padding-left: 2rem;" maxlength="50" type="search" placeholder="Search" aria-label="Search" name="q">
<input type="hidden" name="_from" value="nav">
</form>
</div>
<ul class="navbar-nav">
<li class="nav-item form-inline">
<a class="ml-2 ml-lg-0 btn btn-sm btn-primary px-3" href="https://realpython.com/account/join/">Join</a>
</li>
<li class="nav-item">
<a class="btn text-light" href="https://realpython.com/account/login/">Sign‑In</a>
</li>
</ul>
</div>
</div>
<div class="flex-row w-100" style="border-top: 1px dashed #ffc107 !important;">
<div class="container">
<a class="link-unstyled mx-auto" href="https://realpython.com/free-courses-march-2020"><p class="my-1 small"><span class="text-warning">😷 <strong>Stuck at home?</strong> Enjoy free courses, on&nbsp;us&nbsp;→</span></p></a>
</div>
</div>
</nav>
<div class="container main-content">
<div class="row justify-content-center">
<div class="col-md-11 col-lg-8 article">
<figure class="embed-responsive embed-responsive-16by9">
<img class="card-img-top m-0 p-0 embed-responsive-item rounded" style="object-fit: contain;" alt="How to Do a Binary Search in Python" src="./How to Do a Binary Search in Python – Real Python_files/How-to-Do-a-Binary-Search-in-Python_Watermarked.e06f21f5a58b.jpg" width="1920" height="1080" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/How-to-Do-a-Binary-Search-in-Python_Watermarked.e06f21f5a58b.jpg&amp;w=480&amp;sig=0ecf4cf7367a8a5127b6f1c7385aae465a485690 480w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/How-to-Do-a-Binary-Search-in-Python_Watermarked.e06f21f5a58b.jpg&amp;w=960&amp;sig=44abf33718848650440e8da0f5f7d76f24a1ca36 960w, https://files.realpython.com/media/How-to-Do-a-Binary-Search-in-Python_Watermarked.e06f21f5a58b.jpg 1920w" sizes="75vw">
</figure>
<h1>How to Do a Binary Search in Python</h1>
<p class="mb-0">
<span class="text-muted">by <a class="text-muted" href="https://realpython.com/binary-search-python/#author">Bartosz Zaczyński</a>
<span class="ml-2 fa fa-clock-o"></span> Mar 16, 2020
<span class="ml-2 mr-1 fa fa-comments"></span><a class="text-muted" href="https://realpython.com/binary-search-python/#reader-comments"><span class="disqus-comment-count" data-disqus-identifier="https://realpython.com/binary-search-python/">6 Comments</span></a>
<span class="ml-2 fa fa-tags"></span>
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
</span></p><div class="d-flex flex-row justify-content-between my-2">
<div class="align-self-center">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20How%20to%20Do%20a%20Binary%20Search%20in%20Python%20by%20@realpython&amp;url=https%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0AHow%20to%20Do%20a%20Binary%20Search%20in%20Python%0A%0Ahttps%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
</div>
<p></p>
<div class="article-body">
<div class="bg-light sidebar-module sidebar-module-inset" id="toc">
<p class="h3 mb-2 text-muted">Table of Contents</p>
<div class="toc">
<ul>
<li><a href="https://realpython.com/binary-search-python/#benchmarking">Benchmarking</a><ul>
<li><a href="https://realpython.com/binary-search-python/#download-imdb">Download IMDb</a></li>
<li><a href="https://realpython.com/binary-search-python/#read-tab-separated-values">Read Tab-Separated Values</a></li>
<li><a href="https://realpython.com/binary-search-python/#measure-the-execution-time">Measure the Execution Time</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#understanding-search-algorithms">Understanding Search Algorithms</a><ul>
<li><a href="https://realpython.com/binary-search-python/#random-search">Random Search</a></li>
<li><a href="https://realpython.com/binary-search-python/#linear-search">Linear Search</a></li>
<li><a href="https://realpython.com/binary-search-python/#binary-search">Binary Search</a></li>
<li><a href="https://realpython.com/binary-search-python/#hash-based-search">Hash-Based Search</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#using-the-bisect-module">Using the bisect Module</a><ul>
<li><a href="https://realpython.com/binary-search-python/#finding-an-element">Finding an Element</a></li>
<li><a href="https://realpython.com/binary-search-python/#inserting-a-new-element">Inserting a New Element</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#implementing-binary-search-in-python">Implementing Binary Search in Python</a><ul>
<li><a href="https://realpython.com/binary-search-python/#iteratively">Iteratively</a></li>
<li><a href="https://realpython.com/binary-search-python/#recursively">Recursively</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#covering-tricky-details">Covering Tricky Details</a><ul>
<li><a href="https://realpython.com/binary-search-python/#integer-overflow">Integer Overflow</a></li>
<li><a href="https://realpython.com/binary-search-python/#stack-overflow">Stack Overflow</a></li>
<li><a href="https://realpython.com/binary-search-python/#duplicate-elements">Duplicate Elements</a></li>
<li><a href="https://realpython.com/binary-search-python/#floating-point-rounding">Floating-Point Rounding</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#analyzing-the-time-space-complexity-of-binary-search">Analyzing the Time-Space Complexity of Binary Search</a><ul>
<li><a href="https://realpython.com/binary-search-python/#time-space-complexity">Time-Space Complexity</a></li>
<li><a href="https://realpython.com/binary-search-python/#the-big-o-notation">The Big O Notation</a></li>
<li><a href="https://realpython.com/binary-search-python/#the-complexity-of-binary-search">The Complexity of Binary Search</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#conclusion">Conclusion</a></li>
</ul>
</div>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:12.5%;"></div>
<div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"><a href="https://srv.realpython.net/click/62818974105/?c=36789383886&amp;p=58946116052&amp;r=18261" rel="nofollow" target="_blank"><img src="./How to Do a Binary Search in Python – Real Python_files/6d8001e54a533f15c2f35aefabf68787" style="max-width: 100%; max-height: 100%; width: 100%;"></a></div>
</div>
</div>
<p><strong>Binary search</strong> is a classic algorithm in computer science. It often comes up in programming contests and <a href="https://realpython.com/python-coding-interview-tips/">technical interviews</a>. Implementing binary search turns out to be a challenging task, even when you understand the concept. Unless you’re curious or have a specific assignment, you should always leverage existing libraries to do a binary search in Python or any other language.</p>
<p><strong>In this tutorial, you’ll learn how to:</strong></p>
<ul>
<li>Use the <strong><code>bisect</code></strong> module to do a binary search in Python</li>
<li>Implement a binary search in Python both <strong>recursively</strong> and <strong>iteratively</strong></li>
<li>Recognize and fix <strong>defects</strong> in a binary search Python implementation</li>
<li>Analyze the <strong>time-space complexity</strong> of the binary search algorithm</li>
<li>Search even <strong>faster</strong> than binary search</li>
</ul>
<p>This tutorial assumes you’re a student or an <a href="https://realpython.com/tutorials/intermediate/"><strong>intermediate programmer</strong></a> with an interest in algorithms and <a href="https://realpython.com/python-data-structures/">data structures</a>. At the very least, you should be familiar with Python’s built-in data types, such as <a href="https://realpython.com/python-lists-tuples/">lists and tuples</a>. In addition, some familiarity with <a href="https://realpython.com/python-thinking-recursively/">recursion</a>, <a href="https://realpython.com/lessons/classes-python/">classes</a>, <a href="https://realpython.com/python-data-classes/">data classes</a>, and <a href="https://realpython.com/python-lambda/">lambdas</a> will help you better understand the concepts you’ll see in this tutorial.</p>
<p>Below you’ll find a link to the sample code you’ll see throughout this tutorial, which requires Python 3.7 or later to run:</p>
<div class="alert alert-warning" role="alert"><p><strong>Get Sample Code:</strong> <a href="https://realpython.com/bonus/binary-search-python-code/" class="alert-link" data-toggle="modal" data-target="#modal-binary-search-python-code" data-focus="false">Click here to get the sample code you'll use</a> to learn about binary search in Python in this tutorial.</p></div>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-4996" data-processed="true" data-google-query-id="CInbxZe7v-sCFW8f0wodKj0Oug"><div id="google_ads_iframe_/124067137/realpython728x90FS_1_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/124067137/realpython728x90FS_1_0" title="3rd party ad content" name="google_ads_iframe_/124067137/realpython728x90FS_1_0" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" srcdoc="" style="border: 0px; vertical-align: bottom;" data-google-container-id="1" data-load-complete="true"></iframe></div></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style=""> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><section class="section2" id="benchmarking"><h2>Benchmarking</h2>
<p>In the next section of this tutorial, you’ll be using a subset of the <a href="https://www.imdb.com/">Internet Movie Database (IMDb)</a> to benchmark the performance of a few search algorithms. This dataset is free of charge for personal and non-commercial use. It’s distributed as a bunch of compressed <a href="https://en.wikipedia.org/wiki/Tab-separated_values">tab-separated values (TSV)</a> files, which get daily updates.</p>
<p>To make your life easier, you can use a Python script included in the sample code. It’ll automatically fetch the relevant file from IMDb, decompress it, and extract the interesting pieces:</p>
<div class="highlight sh"><pre><span></span><code><span class="gp">$</span> python download_imdb.py
<span class="go">Fetching data from IMDb...</span>
<span class="go">Created "names.txt" and "sorted_names.txt"</span>
</code></pre></div>
<p>Be warned that this will download and extract approximately 600 MB of data, as well as produce two additional files, which are about half of that in size. The download, as well as the processing of this data, might take a minute or two to complete.</p>
<section class="section3" id="download-imdb"><h3>Download IMDb</h3>
<p>To manually obtain the data, navigate your web browser to <a href="https://datasets.imdbws.com/">https://datasets.imdbws.com/</a> and grab the file called <code>name.basics.tsv.gz</code>, which contains the records of actors, directors, writers, and so on. When you decompress the file, you’ll see the following content:</p>
<div class="highlight text"><pre><span></span><code>nconst     primaryName      birthYear  deathYear  (...)
nm0000001  Fred Astaire     1899       1987       (...)
nm0000002  Lauren Bacall    1924       2014       (...)
nm0000003  Brigitte Bardot  1934       \N         (...)
nm0000004  John Belushi     1949       1982       (...)
</code></pre></div>
<p>It has a <strong>header</strong> with the column names in the first line, followed by <strong>data records</strong> in each of the subsequent lines. Each record contains a unique identifier, a full name, birth year, and a few other attributes. These are all delimited with a tab character.</p>
<p>There are millions of records, so don’t try to open the file with a regular text editor to avoid crashing your computer. Even specialized software such as spreadsheets can have problems opening it. Instead, you might take advantage of the high-performance data grid viewer included in <a href="https://jupyterlab.readthedocs.io/en/stable/">JupyterLab</a>, for example.</p>
</section><section class="section3" id="read-tab-separated-values"><h3>Read Tab-Separated Values</h3>
<p>There are a few ways to parse a TSV file. For example, you can read it with <a href="https://realpython.com/lessons/reading-csvs-pandas/">Pandas</a>, use a dedicated application, or leverage a few command-line tools. However, it’s recommended that you use the hassle-free Python script included in the sample code.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> As a rule of thumb, you should avoid parsing files manually because you might overlook <strong>edge cases</strong>. For example, in one of the fields, the delimiting tab character could be used literally inside quotation marks, which would break the number of columns. Whenever possible, try to find a relevant module in the standard library or a trustworthy third-party one.</p>
</div>
<p>Ultimately, you want to end up with two text files at your disposal:</p>
<ol>
<li><code>names.txt</code></li>
<li><code>sorted_names.txt</code></li>
</ol>
<p>One will contain a <a href="https://realpython.com/courses/lists-tuples-python/">list</a> of names obtained by cutting out the second column from the original TSV file:</p>
<div class="highlight text"><pre><span></span><code>Fred Astaire
Lauren Bacall
Brigitte Bardot
John Belushi
Ingmar Bergman
...
</code></pre></div>
<p>The second one will be the sorted version of this.</p>
<p>Once both files are ready, you can load them into Python using this function:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">load_names</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">text_file</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">text_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>

<span class="n">names</span> <span class="o">=</span> <span class="n">load_names</span><span class="p">(</span><span class="s1">'names.txt'</span><span class="p">)</span>
<span class="n">sorted_names</span> <span class="o">=</span> <span class="n">load_names</span><span class="p">(</span><span class="s1">'sorted_names.txt'</span><span class="p">)</span>
</code></pre></div>
<p>This code returns a list of names pulled from the given file. Note that calling <code>.splitlines()</code> on the resulting <a href="https://realpython.com/python-strings/">string</a> removes the trailing newline character from each line. As an alternative, you could call <code>text_file.readlines()</code>, but that would keep the unwanted newlines.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-4998" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="measure-the-execution-time"><h3>Measure the Execution Time</h3>
<p>To evaluate the performance of a particular algorithm, you can measure its execution time against the IMDb dataset. This is usually done with the help of the built-in <a href="https://realpython.com/python-time-module/"><code>time</code></a> or <a href="https://pymotw.com/3/timeit/"><code>timeit</code></a> modules, which are useful for timing a block of code.</p>
<p>You could also define a custom <a href="https://realpython.com/lessons/timing-functions-decorators/">decorator</a> to time a function if you wanted to. The sample code provided uses <a href="https://docs.python.org/3/library/time.html#time.perf_counter_ns"><code>time.perf_counter_ns()</code></a>, introduced in Python 3.7, because it offers high precision in nanoseconds.</p>
</section></section><section class="section2" id="understanding-search-algorithms"><h2>Understanding Search Algorithms</h2>
<p>Searching is ubiquitous and lies at the heart of computer science. You probably did several web searches today alone, but have you ever wondered what <strong>searching</strong> really means?</p>
<p>Search algorithms take many different forms. For example, you can:</p>
<ul>
<li>Do a <a href="https://en.wikipedia.org/wiki/Full-text_search">full-text search</a></li>
<li>Match strings with <a href="https://en.wikipedia.org/wiki/Approximate_string_matching">fuzzy searching</a></li>
<li>Find the shortest path in a graph</li>
<li>Query a database</li>
<li>Look for a minimum or maximum value</li>
</ul>
<p>In this tutorial, you’ll learn about searching for an element in a sorted list of items, like a phone book. When you search for such an element, you might be asking one of the following questions:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Question</th>
<th>Answer</th>
</tr>
</thead>
<tbody>
<tr>
<td>Is it there?</td>
<td>Yes</td>
</tr>
<tr>
<td>Where is it?</td>
<td>On the 42nd page</td>
</tr>
<tr>
<td>Which one is it?</td>
<td>A person named John Doe</td>
</tr>
</tbody>
</table>
</div>
<p>The answer to the first question tells you whether an element is <strong>present</strong> in the collection. It always holds either <em>true</em> or <em>false</em>. The second answer is the <strong>location</strong> of an element within the collection, which may be unavailable if that element was missing. Finally, the third answer is the <strong>element</strong> itself, or a lack of it.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Sometimes there might be more than one correct answer due to <strong>duplicate or similar items</strong>. For example, if you have a few contacts with the same name, then they will all fit your search criteria. At other times, there might only be an approximate answer or no answer at all.</p>
</div>
<p>In the most common case, you’ll be <strong>searching by value</strong>, which compares elements in the collection against the exact one you provide as a reference. In other words, your search criteria are the entire element, such as a number, a string, or an object like a person. Even the tiniest difference between the two compared elements won’t result in a match.</p>
<p>On the other hand, you can be more granular with your search criteria by choosing some property of an element, such as a person’s last name. This is called <strong>searching by key</strong> because you pick one or more attributes to compare. Before you dive into binary search in Python, let’s take a quick look at other search algorithms to get a bigger picture and understand how they work.</p>
<section class="section3" id="random-search"><h3>Random Search</h3>
<p>How might you look for something in your backpack? You might just dig your hand into it, pick an item at random, and see if it’s the one you wanted. If you’re out of luck, then you put the item back, rinse, and repeat. This example is a good way to understand <strong>random search</strong>, which is one of the least efficient search algorithms. The inefficiency of this approach stems from the fact that you’re running the risk of picking the same wrong thing multiple times.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Funnily enough, this strategy <em>could</em> be the most efficient one, in theory, if you were <em>very</em> lucky or had a small number of elements in the collection.</p>
</div>
<p>The fundamental principle of this algorithm can be expressed with the following snippet of Python code:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">random</span>

<span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">random_element</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">random_element</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">random_element</span>
</code></pre></div>
<p>The function loops until some element chosen at <a href="https://realpython.com/python-random/">random</a> matches the value given as input. However, this isn’t very useful because the function returns either <a href="https://realpython.com/null-in-python/"><code>None</code></a> implicitly or the same value it already received in a parameter. You can find the full implementation in the sample code available for download at the link below:</p>
<div class="alert alert-warning" role="alert"><p><strong>Get Sample Code:</strong> <a href="https://realpython.com/bonus/binary-search-python-code/" class="alert-link" data-toggle="modal" data-target="#modal-binary-search-python-code" data-focus="false">Click here to get the sample code you'll use</a> to learn about binary search in Python in this tutorial.</p></div>
<p>For microscopic datasets, the random search algorithm appears to be doing its job reasonably fast:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">search.random</span> <span class="kn">import</span> <span class="o">*</span>  <span class="c1"># Sample code to download</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'orange'</span><span class="p">,</span> <span class="s1">'plum'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'apple'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contains</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_index</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">'plum'</span>
</code></pre></div>
<p>However, imagine having to search like that through <em>millions</em> of elements! Here’s a quick rundown of a performance test that was done against the IMDb dataset:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Search Term</th>
<th>Element Index</th>
<th>Best Time</th>
<th>Average Time</th>
<th>Worst Time</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Fred Astaire</em></td>
<td><code>0</code></td>
<td><code>0.74s</code></td>
<td><code>21.69s</code></td>
<td><code>43.16s</code></td>
</tr>
<tr>
<td><em>Alicia Monica</em></td>
<td><code>4,500,000</code></td>
<td><code>1.02s</code></td>
<td><code>26.17s</code></td>
<td><code>66.34s</code></td>
</tr>
<tr>
<td><em>Baoyin Liu</em></td>
<td><code>9,500,000</code></td>
<td><code>0.11s</code></td>
<td><code>17.41s</code></td>
<td><code>51.03s</code></td>
</tr>
<tr>
<td><em>missing</em></td>
<td><code>N/A</code></td>
<td><code>5m 16s</code></td>
<td><code>5m 40s</code></td>
<td><code>5m 54s</code></td>
</tr>
</tbody>
</table>
</div>
<p>Unique elements at different memory locations were specifically chosen to avoid bias. Each term was searched for ten times to account for the randomness of the algorithm and other factors such as garbage collection or system processes running in the background.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> If you’d like to conduct this experiment yourself, then refer back to the instructions in the introduction to this tutorial. To measure the performance of your code, you can use the built-in <a href="https://realpython.com/python-time-module/"><code>time</code> and <code>timeit</code></a> modules, or you can time functions with a custom <a href="https://realpython.com/lessons/timing-functions-decorators/">decorator</a>.</p>
</div>
<p>The algorithm has a <strong>non-deterministic performance</strong>. While the average time to find an element doesn’t depend on its whereabouts, the best and worst times are two to three orders of magnitude apart. It also suffers from inconsistent behavior. Consider having a collection of elements containing some duplicates. Because the algorithm picks elements at random, it’ll inevitably return different copies upon subsequent runs.</p>
<p>How can you improve on this? One way to address both issues at once is by using a <strong>linear search</strong>.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5000" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="linear-search"><h3>Linear Search</h3>
<p>When you’re deciding what to have for lunch, you may be looking around the menu chaotically until something catches your eye. Alternatively, you can take a more systematic approach by scanning the menu from top to bottom and scrutinizing every item in a <strong>sequence</strong>. That’s linear search in a nutshell. To implement it in Python, you could <a href="https://realpython.com/lessons/use-enumerate-keep-running-index/"><code>enumerate()</code></a> elements to keep track of the current element’s index:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">elements</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">index</span>
</code></pre></div>
<p>The function loops over a collection of elements in a predefined and consistent order. It stops when the element is found, or when there are no more elements to check. This strategy guarantees that no element is visited more than once because you’re traversing them in order by <code>index</code>.</p>
<p>Let’s see how well linear search copes with the IMDb dataset you used before:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Search Term</th>
<th>Element Index</th>
<th>Best Time</th>
<th>Average Time</th>
<th>Worst Time</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Fred Astaire</em></td>
<td><code>0</code></td>
<td><code>491ns</code></td>
<td><code>1.17µs</code></td>
<td><code>6.1µs</code></td>
</tr>
<tr>
<td><em>Alicia Monica</em></td>
<td><code>4,500,000</code></td>
<td><code>0.37s</code></td>
<td><code>0.38s</code></td>
<td><code>0.39s</code></td>
</tr>
<tr>
<td><em>Baoyin Liu</em></td>
<td><code>9,500,000</code></td>
<td><code>0.77s</code></td>
<td><code>0.79s</code></td>
<td><code>0.82s</code></td>
</tr>
<tr>
<td><em>missing</em></td>
<td><code>N/A</code></td>
<td><code>0.79s</code></td>
<td><code>0.81s</code></td>
<td><code>0.83s</code></td>
</tr>
</tbody>
</table>
</div>
<p>There’s hardly any variance in the lookup time of an individual element. The average time is virtually the same as the best and the worst one. Since the elements are always browsed in the same order, the number of comparisons required to find the same element doesn’t change.</p>
<p>However, the lookup time grows with the increasing index of an element in the collection. The further the element is from the beginning of the list, the more comparisons have to run. In the worst case, when an element is missing, the whole collection has to be checked to give a definite answer.</p>
<p>When you project experimental data onto a plot and connect the dots, then you’ll immediately see the relationship between element location and the time it takes to find it:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/linear_search_time_plot.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block " src="./How to Do a Binary Search in Python – Real Python_files/linear_search_time_plot.webp" width="1280" height="720" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/linear_search_time_plot.35afe62a7aa6.png&amp;w=320&amp;sig=7250be4ec3f55c2b93da87c51530bc5b4238bd28 320w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/linear_search_time_plot.35afe62a7aa6.png&amp;w=640&amp;sig=6880e6d5ff59f8e7e0f8e897ea5ef27001a3e36c 640w, https://files.realpython.com/media/linear_search_time_plot.35afe62a7aa6.png 1280w" sizes="75vw" alt="Linear Search Performance"></a></p>
<p>All samples lie on a straight line and can be described by a <strong>linear function</strong>, which is where the name of the algorithm comes from. You can assume that, on average, the time required to find any element using a linear search will be proportional to the number of all elements in the collection. They don’t scale well as the amount of data to search increases. </p>
<p>For example, biometric scanners available at some airports wouldn’t recognize passengers in a matter of seconds, had they been implemented using linear search. On the other hand, the linear search algorithm may be a good choice for smaller datasets, because it doesn’t require <strong>preprocessing</strong> the data. In such a case, the benefits of preprocessing wouldn’t pay back its cost.</p>
<p>Python already ships with linear search, so there’s no point in writing it yourself. The <code>list</code> data structure, for example, exposes a method that will return the index of an element or raise an exception otherwise:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'orange'</span><span class="p">,</span> <span class="s1">'plum'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'apple'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">'banana'</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">'blueberry'</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">ValueError</span>: <span class="n">'blueberry' is not in list</span>
</code></pre></div>
<p>This can also tell you if the element is present in the collection, but a more <a href="https://realpython.com/learning-paths/writing-pythonic-code/">Pythonic</a> way would involve using the versatile <code>in</code> operator:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="s1">'banana'</span> <span class="ow">in</span> <span class="n">fruits</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">'blueberry'</span> <span class="ow">in</span> <span class="n">fruits</span>
<span class="go">False</span>
</code></pre></div>
<p>It’s worth noting that despite using linear search under the hood, these built-in functions and operators will blow your implementation out of the water. That’s because they were written in pure <a href="https://realpython.com/build-python-c-extension-module/">C</a>, which compiles to native machine code. The standard Python interpreter is no match for it, no matter how hard you try.</p>
<p>A quick test with the <code>timeit</code> module reveals that the Python implementation might run almost ten times slower than the equivalent native one:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">timeit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">search.linear</span> <span class="kn">import</span> <span class="n">contains</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'orange'</span><span class="p">,</span> <span class="s1">'plum'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'apple'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">contains</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="s1">'blueberry'</span><span class="p">))</span>
<span class="go">1.8904765040024358</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="s1">'blueberry'</span> <span class="ow">in</span> <span class="n">fruits</span><span class="p">)</span>
<span class="go">0.22473459799948614</span>
</code></pre></div>
<p>However, for sufficiently large datasets, even the native code will hit its limits, and the only solution will be to rethink the algorithm.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> The <code>in</code> operator doesn’t always do a linear search. When you use it on a <code>set</code>, for example, it does a hash-based search instead. The operator can work with any <strong>iterable</strong>, including <code>tuple</code>, <code>list</code>, <code>set</code>, <code>dict</code>, and <code>str</code>. You can even support your custom classes with it by implementing the <a href="https://docs.python.org/3/reference/datamodel.html#special-method-names">magic method</a> <code>.__contains__()</code> to define the underlying logic.</p>
</div>
<p>In real-life scenarios, the linear search algorithm should usually be avoided. For example, there was a time I wasn’t able to register my cat at the vet clinic because their system kept crashing. The doctor told me he must eventually upgrade his computer because adding more records into the database makes it run slower and slower. </p>
<p>I remember thinking to myself at that point that the person who wrote that software clearly didn’t know about the <strong>binary search</strong> algorithm!</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5002" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="binary-search"><h3>Binary Search</h3>
<p>The word <strong>binary</strong> is generally associated with the number 2. In this context, it refers to dividing a collection of elements into two halves and throwing away one of them at each step of the algorithm. This can dramatically reduce the number of comparisons required to find an element. But there’s a catch—elements in the collection must be <strong><a href="https://realpython.com/python-sort/">sorted</a></strong> first.</p>
<p>The idea behind it resembles the steps for finding a page in a book. At first, you typically open the book to a completely random page or at least one that’s close to where you think your desired page might be. </p>
<p>Occasionally, you’ll be fortunate enough to find that page on the first try. However, if the page number is too low, then you know the page must be to the right. If you overshoot on the next try, and the current page number is higher than the page you’re looking for, then you know for sure that it must be somewhere in between.</p>
<p>You repeat the process, but rather than choosing a page at random, you check the page located right in the <strong>middle</strong> of that new range. This minimizes the number of tries. A similar approach can be used in the <a href="https://inventwithpython.com/chapter4.html">number guessing game</a>. If you haven’t heard of that game, then you can look it up on the Internet to get a plethora of examples implemented in Python.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Sometimes, if the values are uniformly distributed, you can calculate the middle index with <strong>linear interpolation</strong> rather than taking the average. This variation of the algorithm will require even fewer steps.</p>
</div>
<p>The page numbers that restrict the range of pages to search through are known as the <strong>lower bound</strong> and the <strong>upper bound</strong>. In binary search, you commonly start with the first page as the lower bound and the last page as the upper bound. You must update both bounds as you go. For example, if the page you turn to is lower than the one you’re looking for, then that’s your new lower bound.</p>
<p>Let’s say you were looking for a strawberry in a collection of fruits sorted in ascending order by size:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/binary-search-fruits-01.2ae8a8516eb9.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block " src="./How to Do a Binary Search in Python – Real Python_files/binary-search-fruits-01.2ae8a8516eb9.png" width="1946" height="433" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/binary-search-fruits-01.2ae8a8516eb9.png&amp;w=486&amp;sig=c4fae805b164c4a4a27ae8fe48a93542200ebe7e 486w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/binary-search-fruits-01.2ae8a8516eb9.png&amp;w=973&amp;sig=3fee1c51b1afe5dfdb98b4c77abf142774c2d5e2 973w, https://files.realpython.com/media/binary-search-fruits-01.2ae8a8516eb9.png 1946w" sizes="75vw" alt="Fruits In Ascending Order Of Their Size"></a></p>
<p>On the first attempt, the element in the middle happens to be a lemon. Since it’s bigger than a strawberry, you can discard all elements to the right, including the lemon. You’ll move the upper bound to a new position and update the middle index:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/binary-search-fruits-02.ec849d47d8a4.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block " src="./How to Do a Binary Search in Python – Real Python_files/binary-search-fruits-02.ec849d47d8a4.png" width="1946" height="433" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/binary-search-fruits-02.ec849d47d8a4.png&amp;w=486&amp;sig=36fe66026cd1cf551003ccc93ee0a8fb70226659 486w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/binary-search-fruits-02.ec849d47d8a4.png&amp;w=973&amp;sig=3a3dfe0cc592ec3b9f3ebf99e79ba4208e169e6f 973w, https://files.realpython.com/media/binary-search-fruits-02.ec849d47d8a4.png 1946w" sizes="75vw" alt="Fruits In Ascending Order Of Their Size"></a></p>
<p>Now, you’re left with only half of the fruits you began with. The current middle element is indeed the strawberry you were looking for, which concludes the search. If it wasn’t, then you’d just update the bounds accordingly and continue until they pass each other. For example, looking for a missing plum, which would go between the strawberry and a kiwi, will end with the following result:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/binary-search-fruits-03.e50276fabb7c.png" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block " src="./How to Do a Binary Search in Python – Real Python_files/binary-search-fruits-03.e50276fabb7c.png" width="1946" height="433" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/binary-search-fruits-03.e50276fabb7c.png&amp;w=486&amp;sig=82b717573501fa9622b8735859e7fcd2b2b0b8a0 486w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/binary-search-fruits-03.e50276fabb7c.png&amp;w=973&amp;sig=a8cec7ed6bcac9af8badddfe286cbf8f71a7db11 973w, https://files.realpython.com/media/binary-search-fruits-03.e50276fabb7c.png 1946w" sizes="75vw" alt="Fruits In Ascending Order Of Their Size"></a></p>
<p>Notice there weren’t that many comparisons that had to be made in order to find the desired element. That’s the magic of binary search. Even if you’re dealing with a million elements, you’d only require at most a handful of checks. This number won’t exceed the <strong>logarithm</strong> base two of the total number of elements due to halving. In other words, the number of remaining elements is reduced by half at each step.</p>
<p>This is possible because the elements are already sorted by size. However, if you wanted to find fruits by another key, such as a color, then you’d have to sort the entire collection once again. To avoid the costly overhead of sorting, you might try to compute different views of the same collection in advance. This is somewhat similar to creating a <strong>database index</strong>.</p>
<p>Consider what happens if you add, delete or update an element in a collection. For a binary search to continue working, you’d need to maintain the proper sort order. This can be done with the <code>bisect</code> module, which you’ll read about in the upcoming section.</p>
<p>You’ll see how to implement the binary search algorithm in Python later on in this tutorial. For now, let’s confront it with the IMDb dataset. Notice that there are different people to search for than before. That’s because the dataset must be sorted for binary search, which reorders the elements. The new elements are located roughly at the same indices as before, to keep the measurements comparable:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Search Term</th>
<th>Element Index</th>
<th>Average Time</th>
<th>Comparisons</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>(…) Berendse</em></td>
<td><code>0</code></td>
<td><code>6.52µs</code></td>
<td>23</td>
</tr>
<tr>
<td><em>Jonathan Samuangte</em></td>
<td><code>4,499,997</code></td>
<td><code>6.99µs</code></td>
<td>24</td>
</tr>
<tr>
<td><em>Yorgos Rahmatoulin</em></td>
<td><code>9,500,001</code></td>
<td><code>6.5µs</code></td>
<td>23</td>
</tr>
<tr>
<td><em>missing</em></td>
<td><code>N/A</code></td>
<td><code>7.2µs</code></td>
<td>23</td>
</tr>
</tbody>
</table>
</div>
<p>The answers are nearly instantaneous. In the average case, it takes only a few microseconds for the binary search to find one element among all nine million! Other than that, the number of comparisons for the chosen elements remains almost constant, which coincides with the following formula:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/log2.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-50" src="./How to Do a Binary Search in Python – Real Python_files/log2.webp" width="1280" height="100" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/log2.3b129f5915a5.png&amp;w=320&amp;sig=ae426b4bb6ef4af02440dbbcfba6ef76bbd7f4d0 320w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/log2.3b129f5915a5.png&amp;w=640&amp;sig=9489b3cd9856f2021b8e14f25ac2475d0fa1daf2 640w, https://files.realpython.com/media/log2.3b129f5915a5.png 1280w" sizes="75vw" alt="The Formula For The Number Of Comparisons"></a></p>
<p>Finding most elements will require the highest number of comparisons, which can be derived from a logarithm of the size of the collection. Conversely, there’s just one element in the middle that can be found on the first try with one comparison.</p>
<p>Binary search is a great example of a <strong>divide-and-conquer</strong> technique, which partitions one problem into a bunch of smaller problems of the same kind. The individual solutions are then combined to form the final answer. Another well-known example of this technique is the <a href="https://en.wikipedia.org/wiki/Quicksort">quicksort</a> algorithm.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Don’t confuse divide-and-conquer with <a href="https://en.wikipedia.org/wiki/Dynamic_programming"><strong>dynamic programming</strong></a>, which is a somewhat similar technique.</p>
</div>
<p>Unlike other search algorithms, binary search can be used beyond just searching. For example, it allows for set membership testing, finding the largest or smallest value, finding the nearest neighbor of the target value, performing range queries, and more.</p>
<p>If speed is a top priority, then binary search is not always the best choice. There are even faster algorithms that can take advantage of hash-based data structures. However, those algorithms require a lot of additional memory, whereas binary search offers a good <a href="https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff">space-time tradeoff</a>.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5004" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="hash-based-search"><h3>Hash-Based Search</h3>
<p>To search faster, you need to narrow down the <strong>problem space</strong>. Binary search achieves that goal by halving the number of candidates at each step. That means that even if you have one million elements, it takes at most twenty comparisons to determine if the element is present, provided that all elements are sorted.</p>
<p>The fastest way to search is to know where to find what you’re looking for. If you knew the exact memory location of an element, then you’d access it directly without the need for searching in the first place. Mapping an element or (more commonly) one of its keys to the element location in memory is referred to as <strong>hashing</strong>.</p>
<p>You can think of hashing not as searching for the specific element, but instead computing the index based on the element itself. That’s the job of a <strong><a href="https://en.wikipedia.org/wiki/Hash_function">hash function</a></strong>, which needs to hold certain mathematical properties. A good hash function should:</p>
<ul>
<li>Take arbitrary input and turn it into a fixed-size output.</li>
<li>Have a uniform value distribution to mitigate <a href="https://en.wikipedia.org/wiki/Collision_(computer_science)"><strong>hash collisions</strong></a>.</li>
<li>Produce deterministic results.</li>
<li>Be a <a href="https://en.wikipedia.org/wiki/One-way_function">one-way function</a>.</li>
<li>Amplify input changes to achieve the <a href="https://en.wikipedia.org/wiki/Avalanche_effect">avalanche effect</a>.</li>
</ul>
<p>At the same time, it shouldn’t be too computationally expensive, or else its cost would outweigh the gains. A hash function is also used for data integrity verification as well as in cryptography.</p>
<p>A data structure that uses this concept to map keys into values is called a <strong>map</strong>, a <strong>hash table</strong>, a <strong>dictionary</strong>, or an <strong>associative array</strong>.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Python has two built-in data structures, namely <code>set</code> and <code>dict</code>, which rely on the hash function to find elements. While a <code>set</code> hashes its elements, a <code>dict</code> uses the hash function against element keys. To find out exactly how a <code>dict</code> is implemented in Python, check out Raymond Hettinger’s conference talk on <a href="https://www.youtube.com/watch?v=npw4s1QTmPg">Modern Python Dictionaries</a>.</p>
</div>
<p>Another way to visualize hashing is to imagine so-called <strong>buckets</strong> of similar elements grouped under their respective keys. For example, you may be harvesting fruits into different buckets based on color:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/buckets.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-50" src="./How to Do a Binary Search in Python – Real Python_files/buckets.webp" width="1406" height="1066" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/buckets.ca9e58a83b24.png&amp;w=351&amp;sig=f07cd4a8065d6aa4129d4f101960abe9ba6fd777 351w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/buckets.ca9e58a83b24.png&amp;w=703&amp;sig=401c460c5a9aea1c57ed76375d7e9eca52f55cdf 703w, https://files.realpython.com/media/buckets.ca9e58a83b24.png 1406w" sizes="75vw" alt="Fruits Grouped By Color"></a></p>
<p>The coconut and a kiwi fruit go to the bucket labeled <em>brown</em>, while an apple ends up in a bucket with the <em>red</em> label, and so on. This allows you to glance through a fraction of the elements quickly. Ideally, you want to have only one fruit in each bucket. Otherwise, you get what’s known as a <strong>collision</strong>, which leads to extra work.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> The buckets, as well as their contents, are typically in no particular order.</p>
</div>
<p>Let’s put the names from the IMDb dataset into a dictionary, so that each name becomes a key, and the corresponding value becomes its index:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">benchmark</span> <span class="kn">import</span> <span class="n">load_names</span>  <span class="c1"># Sample code to download</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">names</span> <span class="o">=</span> <span class="n">load_names</span><span class="p">(</span><span class="s1">'names.txt'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_by_name</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="n">name</span><span class="p">:</span> <span class="n">index</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
<span class="gp">... </span><span class="p">}</span>
</code></pre></div>
<p>After loading textual names into a flat list, you can <code>enumerate()</code> it inside a <a href="https://realpython.com/iterate-through-dictionary-python/#using-comprehensions">dictionary comprehension</a> to create the mapping. Now, checking the element’s presence as well as getting its index is straightforward:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="s1">'Guido van Rossum'</span> <span class="ow">in</span> <span class="n">index_by_name</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">'Arnold Schwarzenegger'</span> <span class="ow">in</span> <span class="n">index_by_name</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">index_by_name</span><span class="p">[</span><span class="s1">'Arnold Schwarzenegger'</span><span class="p">]</span>
<span class="go">215</span>
</code></pre></div>
<p>Thanks to the hash function used behind the scenes, you don’t have to implement any search at all!</p>
<p>Here’s how the hash-based search algorithm performs against the IMDb dataset:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Search Term</th>
<th>Element Index</th>
<th>Best Time</th>
<th>Average Time</th>
<th>Worst Time</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Fred Astaire</em></td>
<td><code>0</code></td>
<td><code>0.18µs</code></td>
<td><code>0.4µs</code></td>
<td><code>1.9µs</code></td>
</tr>
<tr>
<td><em>Alicia Monica</em></td>
<td><code>4,500,000</code></td>
<td><code>0.17µs</code></td>
<td><code>0.4µs</code></td>
<td><code>2.4µs</code></td>
</tr>
<tr>
<td><em>Baoyin Liu</em></td>
<td><code>9,500,000</code></td>
<td><code>0.17µs</code></td>
<td><code>0.4µs</code></td>
<td><code>2.6µs</code></td>
</tr>
<tr>
<td><em>missing</em></td>
<td><code>N/A</code></td>
<td><code>0.19µs</code></td>
<td><code>0.4µs</code></td>
<td><code>1.7µs</code></td>
</tr>
</tbody>
</table>
</div>
<p>Not only is the average time an order of magnitude faster than the already fast binary search Python implementation, but the speed is also sustained across all elements regardless of where they are.</p>
<p>The price for that gain is approximately 0.5 GB of more memory consumed by the Python process, slower load time, and the need to keep that additional data consistent with <a href="https://realpython.com/courses/dictionaries-python/">dictionary</a> contents. In turn, the lookup is very quick, while updates and insertions are slightly slower when compared to a list.</p>
<p>Another constraint that dictionaries impose on their keys is that they must be <strong>hashable</strong>, and their <strong>hash values</strong> can’t change over time. You can check if a particular data type is hashable in Python by calling <code>hash()</code> on it:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'round'</span><span class="p">,</span> <span class="s1">'juicy'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">hash</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">unhashable type: 'list'</span>
</code></pre></div>
<p>Mutable collections—such as a <code>list</code>, <code>set</code>, and <code>dict</code>—aren’t hashable. In practice, dictionary keys should be <strong>immutable</strong> because their hash value often depends on some attributes of the key. If a mutable collection was hashable and could be used as a key, then its hash value would be different every time the contents changed. Consider what would happen if a particular fruit changed color due to ripening. You’d be looking for it in the wrong bucket!</p>
<p>The hash function has many other uses. For example, it’s used in cryptography to avoid storing passwords in plain text form, as well as for data integrity verification.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5257" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section></section><section class="section2" id="using-the-bisect-module"><h2>Using the <code>bisect</code> Module</h2>
<p>Binary search in Python can be performed using the built-in <code>bisect</code> module, which also helps with preserving a list in sorted order. It’s based on the <a href="https://en.wikipedia.org/wiki/Bisection_method">bisection method</a> for finding roots of functions. This module comes with six functions divided into two categories:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Find Index</th>
<th>Insert Element</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bisect()</code></td>
<td><code>insort()</code></td>
</tr>
<tr>
<td><code>bisect_left()</code></td>
<td><code>insort_left()</code></td>
</tr>
<tr>
<td><code>bisect_right()</code></td>
<td><code>insort_right()</code></td>
</tr>
</tbody>
</table>
</div>
<p>These functions allow you to either find an index of an element or add a new element in the right position. Those in the first row are just aliases for <code>bisect_right()</code> and <code>insort_right()</code>, respectively. In reality, you’re dealing with only four functions.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> It’s your responsibility to sort the list before passing it to one of the functions. If the elements aren’t sorted, then you’ll most likely get incorrect results.</p>
</div>
<p>Without further ado, let’s see the <code>bisect</code> module in action.</p>
<section class="section3" id="finding-an-element"><h3>Finding an Element</h3>
<p>To find the index of an existing element in a sorted list, you want to <code>bisect_left()</code>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">bisect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'apple'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'orange'</span><span class="p">,</span> <span class="s1">'plum'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="go">1</span>
</code></pre></div>
<p>The output tells you that a banana is the second fruit on the list because it was found at index <code>1</code>. However, if an element was missing, then you’d still get its expected position:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'apricot'</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'watermelon'</span><span class="p">)</span>
<span class="go">4</span>
</code></pre></div>
<p>Even though these fruits aren’t on the list yet, you can get an idea of where to put them. For example, an apricot should come between the apple and the banana, whereas a watermelon should become the last element. You’ll know if an element was found by evaluating two conditions:</p>
<ol>
<li>
<p>Is the <strong>index</strong> within the size of the list?</p>
</li>
<li>
<p>Is the <strong>value</strong> of the element the desired one?</p>
</li>
</ol>
<p>This can be translated to a universal function for finding elements by value:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="ow">and</span> <span class="n">elements</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">index</span>
</code></pre></div>
<p>When there’s a match, the function will return the corresponding element index. Otherwise, it’ll return <code>None</code> implicitly.</p>
<p>To search by key, you have to maintain a separate list of keys. Since this incurs an additional cost, it’s worthwhile to calculate the keys upfront and reuse them as much as possible. You can define a helper class to be able to search by different keys without introducing much code duplication:</p>
<div class="highlight python"><pre><span></span><code><span class="k">class</span> <span class="nc">SearchBy</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">elements</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">elements_by_key</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([(</span><span class="n">key</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">elements_by_key</span><span class="p">]</span>
</code></pre></div>
<p>The key is a function passed as the first parameter to <code>__init__()</code>. Once you have it, you make a sorted list of key-value pairs to be able to retrieve an element from its key at a later time. Representing pairs with <a href="https://realpython.com/lessons/immutable-data-structures-tuples/">tuples</a> guarantees that the first element of each pair will be sorted. In the next step, you extract the keys to make a flat list that’s suitable for your binary search Python implementation.</p>
<p>Then there’s the actual method for finding elements by key:</p>
<div class="highlight python"><pre><span></span><code><span class="k">class</span> <span class="nc">SearchBy</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">elements</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">elements_by_key</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div>
<p>This code bisects the list of sorted keys to get the index of an element by key. If such a key exists, then its index can be used to get the corresponding pair from the previously computed list of key-value pairs. The second element of that pair is the desired value.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> This is just an illustrative example. You’ll be better off using the <a href="https://code.activestate.com/recipes/577197-sortedcollection/">recommended recipe</a>, which is mentioned in the official documentation.</p>
</div>
<p>If you had multiple bananas, then <code>bisect_left()</code> would return the leftmost instance:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_fruits</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="s1">'apple'</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">'orange'</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">'plum'</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="go">1</span>
</code></pre></div>
<p>Predictably, to get the rightmost banana, you’d need to call <code>bisect_right()</code> or its <code>bisect()</code> alias. However, those two functions return one index further from the actual rightmost banana, which is useful for finding the insertion point of a new element:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">bisect_right</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">bisect</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_fruits</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="go">'orange'</span>
</code></pre></div>
<p>When you combine the code, you can see how many bananas you have:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">bisect</span><span class="o">.</span><span class="n">bisect_left</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">bisect</span><span class="o">.</span><span class="n">bisect_right</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">-</span> <span class="n">l</span>
<span class="go">3</span>
</code></pre></div>
<p>If an element were missing, then both <code>bisect_left()</code> and <code>bisect_right()</code> would return the same index yielding zero bananas.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5259" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="inserting-a-new-element"><h3>Inserting a New Element</h3>
<p>Another practical application of the <code>bisect</code> module is maintaining the order of elements in an already sorted list. After all, you wouldn’t want to sort the whole list every time you had to insert something into it. In most cases, all three functions can be used interchangeably:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">bisect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'apple'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'orange'</span><span class="p">]</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">insort</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'apricot'</span><span class="p">)</span>
</span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">insort_left</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'watermelon'</span><span class="p">)</span>
</span><span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">insort_right</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'plum'</span><span class="p">)</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_fruits</span>
<span class="go">['apple', 'apricot', 'banana', 'orange', 'plum', 'watermelon']</span>
</code></pre></div>
<p>You won’t see any difference until there are <strong>duplicates</strong> in your list. But even then, it won’t become apparent as long as those duplicates are simple values. Adding another banana to the left will have the same effect as adding it to the right.</p>
<p>To notice the difference, you need a data type whose objects can have <strong>unique identities</strong> despite having <strong>equal values</strong>. Let’s define a <code>Person</code> type using the <a href="https://realpython.com/python-data-classes/">@dataclass</a> <a href="https://realpython.com/primer-on-python-decorators/">decorator</a>, which was introduced in Python 3.7:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">compare</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s1">)'</span>
</code></pre></div>
<p>A person has a <code>name</code> and an arbitrary <code>number</code> assigned to it. By excluding the <code>number</code> field from the equality test, you make two people equal even if they have different values of that attribute:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">'John'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">'John'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">==</span> <span class="n">p2</span>
<span class="go">True</span>
</code></pre></div>
<p>On the other hand, those two variables refer to completely separate entities, which allows you to make a distinction between them:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="ow">is</span> <span class="n">p2</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span>
<span class="go">John(1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span>
<span class="go">John(2)</span>
</code></pre></div>
<p>The variables <code>p1</code> and <code>p2</code> are indeed different objects.</p>
<p>Note that instances of a data class aren’t comparable by default, which prevents you from using the bisection algorithm on them:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="p">,</span> <span class="n">bob</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">'Alice'</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">Person</span><span class="p">(</span><span class="s1">'Bob'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span> <span class="o">&lt;</span> <span class="n">bob</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">'&lt;' not supported between instances of 'Person' and 'Person'</span>
</code></pre></div>
<p>Python doesn’t know to order <code>alice</code> and <code>bob</code>, because they’re objects of a custom class. Traditionally, you’d implement the magic method <code>.__lt__()</code> in your class, which stands for <strong>less than</strong>, to tell the interpreter how to compare such elements. However, the <code>@dataclass</code> decorator accepts a few optional Boolean flags. One of them is <code>order</code>, which results in an automatic generation of the magic methods for comparison when set to <code>True</code>:</p>
<div class="highlight python"><pre><span></span><code><span class="hll"><span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>In turn, this allows you to compare two people and decide which one comes first:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span> <span class="o">&lt;</span> <span class="n">bob</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bob</span> <span class="o">&lt;</span> <span class="n">alice</span>
<span class="go">False</span>
</code></pre></div>
<p>Finally, you can take advantage of the <code>name</code> and <code>number</code> properties to observe where various functions insert new people to the list:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_people</span> <span class="o">=</span> <span class="p">[</span><span class="n">Person</span><span class="p">(</span><span class="s1">'John'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">insort_left</span><span class="p">(</span><span class="n">sorted_people</span><span class="p">,</span> <span class="n">Person</span><span class="p">(</span><span class="s1">'John'</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bisect</span><span class="o">.</span><span class="n">insort_right</span><span class="p">(</span><span class="n">sorted_people</span><span class="p">,</span> <span class="n">Person</span><span class="p">(</span><span class="s1">'John'</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_people</span>
<span class="go">[John(2), John(1), John(3)]</span>
</code></pre></div>
<p>The numbers in parentheses after the names indicate the insertion order. In the beginning, there was just one <code>John</code>, who got the number <code>1</code>. Then, you added its duplicate to the left, and later one more to the right.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5261" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section></section><section class="section2" id="implementing-binary-search-in-python"><h2>Implementing Binary Search in Python</h2>
<p>Keep in mind that you probably shouldn’t implement the algorithm unless you have a strong reason to. You’ll save time and won’t need to reinvent the wheel. The chances are that the library code is mature, already tested by real users in a production environment, and has extensive functionality delivered by multiple contributors.</p>
<p>That said, there are times when it makes sense to roll up your sleeves and do it yourself. Your company might have a policy banning certain open source libraries due to licensing or security matters. Maybe you can’t afford another dependency due to memory or network bandwidth constraints. Lastly, writing code yourself might be a great learning tool!</p>
<p>You can implement most algorithms in two ways:</p>
<ol>
<li><strong>Iteratively</strong></li>
<li><strong><a href="https://realpython.com/python-thinking-recursively/">Recursively</a></strong></li>
</ol>
<p>However, there are exceptions to that rule. One notable example is the <a href="https://en.wikipedia.org/wiki/Ackermann_function">Ackermann function</a>, which can only be expressed in terms of recursion.</p>
<p>Before you go any further, make sure that you have a good grasp of the binary search algorithm. You can refer to an <a href="https://realpython.com/binary-search-python/#binary-search">earlier</a> part of this tutorial for a quick refresher.</p>
<section class="section3" id="iteratively"><h3>Iteratively</h3>
<p>The iterative version of the algorithm involves a loop, which will repeat some steps until the stopping condition is met. Let’s begin by implementing a function that will <strong>search elements by value</strong> and return their index:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
<p>You’re going to reuse this function later.</p>
<p>Assuming that all elements are <em>sorted</em>, you can set the lower and the upper boundaries at the opposite ends of the sequence:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="hll">    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
</span></code></pre></div>
<p>Now, you want to identify the middle element to see if it has the desired value. Calculating the middle index can be done by taking the average of both boundaries:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="hll">    <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</span></code></pre></div>
<p>Notice how an <strong>integer division</strong> helps to handle both an odd and even number of elements in the bounded range by <a href="http://python-history.blogspot.com/2010/08/why-pythons-integer-division-floors.html">flooring</a> the result. Depending on how you’re going to update the boundaries and define the stopping condition, you could also use a <a href="https://en.wikipedia.org/wiki/Floor_and_ceiling_functions">ceiling function</a>.</p>
<p>Next, you either finish or split the sequence in two and continue searching in one of the resultant halves:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

<span class="hll">    <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">middle</span>
</span>
<span class="hll">    <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">:</span>
</span><span class="hll">        <span class="n">left</span> <span class="o">=</span> <span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="hll">    <span class="k">elif</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
</span><span class="hll">        <span class="n">right</span> <span class="o">=</span> <span class="n">middle</span> <span class="o">-</span> <span class="mi">1</span>
</span></code></pre></div>
<p>If the element in the middle was a match, then you return its index. Otherwise, if it was too small, then you need to move the lower boundary up. If it was too big, then you need to move the upper boundary down.</p>
<p>To keep going, you have to enclose most of the steps in a loop, which will stop when the lower boundary overtakes the upper one:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

<span class="hll">    <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
</span>        <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">middle</span>

        <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">middle</span> <span class="o">-</span> <span class="mi">1</span>
</code></pre></div>
<p>In other words, you want to iterate as long as the lower boundary is below or equal to the upper one. Otherwise, there was no match, and the function returns <code>None</code> implicitly.</p>
<p><strong>Searching by key</strong> boils down to looking at an object’s attributes instead of its literal value. A key could be the number of characters in a fruit’s name, for example. You can adapt <code>find_index()</code> to accept and use a <code>key</code> parameter:</p>
<div class="highlight python"><pre><span></span><code><span class="hll"><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
</span>    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
        <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
<span class="hll">        <span class="n">middle_element</span> <span class="o">=</span> <span class="n">key</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">])</span>
</span>
        <span class="k">if</span> <span class="n">middle_element</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">middle</span>

        <span class="k">if</span> <span class="n">middle_element</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">middle_element</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">middle</span> <span class="o">-</span> <span class="mi">1</span>
</code></pre></div>
<p>However, you must also remember to sort the list using the same <code>key</code> that you’re going to search with:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'orange'</span><span class="p">,</span> <span class="s1">'plum'</span><span class="p">,</span> <span class="s1">'watermelon'</span><span class="p">,</span> <span class="s1">'apple'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span>
<span class="go">['plum', 'apple', 'orange', 'watermelon']</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fruits</span><span class="p">[</span><span class="n">find_index</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">10</span><span class="p">)]</span>
<span class="go">'watermelon'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">find_index</span><span class="p">(</span><span class="n">fruits</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="go">None</span>
</code></pre></div>
<p>In the example above, <code>watermelon</code> was chosen because its name is precisely ten characters long, while no fruits on the list have names made up of three letters.</p>
<p>That’s great, but at the same time, you’ve just lost the ability to search by value. To remedy this, you could assign the <code>key</code> a default value of <code>None</code> and then check if it was given or not. However, in a more streamlined solution, you’d always want to call the <code>key</code>. By default, it would be an <a href="https://en.wikipedia.org/wiki/Identity_function">identity function</a> returning the element itself:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">identity</span><span class="p">(</span><span class="n">element</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">element</span>

<span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
<p>Alternatively, you might define the identity function inline with an anonymous <a href="https://realpython.com/python-lambda/">lambda expression</a>:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
<p><code>find_index()</code> answers only one question. There are still two others, which are “Is it there?” and “What is it?” To answer these two, you can build on top of it:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

<span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">elements</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</code></pre></div>
<p>With these three functions, you can tell almost everything about an element. However, you still haven’t addressed <strong>duplicates</strong> in your implementation. What if you had a collection of people, and some of them shared a common name or surname? For example, there might be a <code>Smith</code> family or a few guys going by the name of <code>John</code> among the people:</p>
<div class="highlight python"><pre><span></span><code><span class="n">people</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Person</span><span class="p">(</span><span class="s1">'Bob'</span><span class="p">,</span> <span class="s1">'Williams'</span><span class="p">),</span>
    <span class="n">Person</span><span class="p">(</span><span class="s1">'John'</span><span class="p">,</span> <span class="s1">'Doe'</span><span class="p">),</span>
    <span class="n">Person</span><span class="p">(</span><span class="s1">'Paul'</span><span class="p">,</span> <span class="s1">'Brown'</span><span class="p">),</span>
    <span class="n">Person</span><span class="p">(</span><span class="s1">'Alice'</span><span class="p">,</span> <span class="s1">'Smith'</span><span class="p">),</span>
    <span class="n">Person</span><span class="p">(</span><span class="s1">'John'</span><span class="p">,</span> <span class="s1">'Smith'</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div>
<p>To model the <code>Person</code> type, you can modify a data class defined earlier:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>

<span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">surname</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<p>Notice the use of the <code>order</code> attribute to enable automatic generation of magic methods for comparing instances of the class by all fields. Alternatively, you might prefer to take advantage of the <a href="https://realpython.com/lessons/immutable-data-structures-namedtuple/"><code>namedtuple</code></a>, which has a shorter syntax:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<span class="n">Person</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">'Person'</span><span class="p">,</span> <span class="s1">'name surname'</span><span class="p">)</span>
</code></pre></div>
<p>Both definitions are fine and interchangeable. Each person has a <code>name</code> and a <code>surname</code> attribute. To sort and search by one of them, you can conveniently define the key function with an <code>attrgetter()</code> available in the built-in <code>operator</code> module:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">attrgetter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">by_surname</span> <span class="o">=</span> <span class="n">attrgetter</span><span class="p">(</span><span class="s1">'surname'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">by_surname</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span>
<span class="go">[Person(name='Paul', surname='Brown'),</span>
<span class="go"> Person(name='John', surname='Doe'),</span>
<span class="go"> Person(name='Alice', surname='Smith'),</span>
<span class="go"> Person(name='John', surname='Smith'),</span>
<span class="go"> Person(name='Bob', surname='Williams')]</span>
</code></pre></div>
<p>Notice how people are now sorted by surname in ascending order. There’s <code>John Smith</code> and <code>Alice Smith</code>, but binary searching for the <code>Smith</code> surname currently gives you only one arbitrary result:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">find</span><span class="p">(</span><span class="n">people</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">by_surname</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">'Smith'</span><span class="p">)</span>
<span class="go">Person(name='Alice', surname='Smith')</span>
</code></pre></div>
<p>To mimic the features of the <code>bisect</code> module shown before, you can write your own version of <code>bisect_left()</code> and <code>bisect_right()</code>. Before finding the <strong>leftmost</strong> instance of a duplicate element, you want to determine if there’s such an element at all:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_leftmost_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="o">...</span>
    <span class="k">return</span> <span class="n">index</span>
</code></pre></div>
<p>If some index has been found, then you can look to the left and keep moving until you come across an element with a different key or there are no more elements:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_leftmost_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="hll">        <span class="k">while</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">key</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="n">index</span><span class="p">])</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
</span><span class="hll">            <span class="n">index</span> <span class="o">-=</span> <span class="mi">1</span>
</span><span class="hll">        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
</span>    <span class="k">return</span> <span class="n">index</span>
</code></pre></div>
<p>Once you go past the leftmost element, you need to move the index back by one position to the right.</p>
<p>Finding the <strong>rightmost</strong> instance is quite similar, but you need to flip the conditions:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_rightmost_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="ow">and</span> <span class="n">key</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="n">index</span><span class="p">])</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">index</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">index</span>
</code></pre></div>
<p>Instead of going left, now you’re going to the right until the end of the list. Using both functions allows you to find <strong>all occurrences</strong> of duplicate items:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_all_indices</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="n">left</span> <span class="o">=</span> <span class="n">find_leftmost_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="n">right</span> <span class="o">=</span> <span class="n">find_rightmost_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">left</span> <span class="ow">and</span> <span class="n">right</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">set</span><span class="p">()</span>
</code></pre></div>
<p>This function always returns a <a href="https://realpython.com/courses/sets-python/">set</a>. If the element isn’t found, then the set will be empty. If the element is unique, then the set will be made up of only a single index. Otherwise, there will be multiple indices in the set.</p>
<p>To wrap up, you can define even more abstract functions to complete your binary search Python library:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">find_leftmost</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">find_leftmost_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">elements</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">find_rightmost</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">find_rightmost_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">elements</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">find_all</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">identity</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">elements</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">find_all_indices</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">key</span><span class="p">)}</span>
</code></pre></div>
<p>Not only does this allow you to pinpoint the exact location of elements on the list, but also to retrieve those elements. You’re able to ask very specific questions:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Is it there?</th>
<th>Where is it?</th>
<th>What is it?</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>contains()</code></td>
<td><code>find_index()</code></td>
<td><code>find()</code></td>
</tr>
<tr>
<td></td>
<td><code>find_leftmost_index()</code></td>
<td><code>find_leftmost()</code></td>
</tr>
<tr>
<td></td>
<td><code>find_rightmost_index()</code></td>
<td><code>find_rightmost()</code></td>
</tr>
<tr>
<td></td>
<td><code>find_all_indices()</code></td>
<td><code>find_all()</code></td>
</tr>
</tbody>
</table>
</div>
<p>The complete code of this binary search Python library can be found at the link below:</p>
<div class="alert alert-warning" role="alert"><p><strong>Get Sample Code:</strong> <a href="https://realpython.com/bonus/binary-search-python-code/" class="alert-link" data-toggle="modal" data-target="#modal-binary-search-python-code" data-focus="false">Click here to get the sample code you'll use</a> to learn about binary search in Python in this tutorial.</p></div>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5263" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div></section><section class="section3" id="recursively"><h3>Recursively</h3>
<p>For the sake of simplicity, you’re only going to consider the <strong>recursive</strong> version of <code>contains()</code>, which tells you if an element was found.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> My favorite definition of <a href="https://realpython.com/python-thinking-recursively/">recursion</a> was given in an <a href="https://www.youtube.com/watch?v=k7-N8R0-KY4">episode</a> of the <em>Fun Fun Function</em> series about functional programming in JavaScript:</p>
<blockquote>
<p>“Recursion is when a function calls itself until it doesn’t.”</p>
<p>— <em>Mattias Petter Johansson</em></p>
</blockquote>
</div>
<p>The most straightforward approach would be to take the iterative version of binary search and use the <a href="https://realpython.com/lessons/indexing-and-slicing/">slicing operator</a> to chop the list:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

<span class="hll">    <span class="k">if</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
</span>        <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">:</span>
<span class="hll">            <span class="k">return</span> <span class="n">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">value</span><span class="p">)</span>
</span>        <span class="k">elif</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
<span class="hll">            <span class="k">return</span> <span class="n">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">[:</span><span class="n">middle</span><span class="p">],</span> <span class="n">value</span><span class="p">)</span>
</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
<p>Instead of looping, you check the condition once and sometimes call the same function on a smaller list. What could go wrong with that? Well, it turns out that slicing generates <strong>copies</strong> of element references, which can have noticeable memory and computational overhead.</p>
<p>To avoid copying, you might reuse the same list but pass different boundaries into the function whenever necessary:</p>
<div class="highlight python"><pre><span></span><code><span class="hll"><span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
</span>    <span class="k">if</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
        <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">:</span>
<span class="hll">            <span class="k">return</span> <span class="n">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
</span>        <span class="k">elif</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
<span class="hll">            <span class="k">return</span> <span class="n">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">middle</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
<p>The downside is that every time you want to call that function, you have to pass initial boundaries, making sure they’re correct:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'apple'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'orange'</span><span class="p">,</span> <span class="s1">'plum'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contains</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'apple'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</code></pre></div>
<p>If you were to make a mistake, then it would potentially not find that element. You can improve this by using default function arguments or by introducing a helper function that delegates to the recursive one:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">recursive</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">recursive</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
<p>Going further, you might prefer to <a href="https://realpython.com/inner-functions-what-are-they-good-for/">nest</a> one function in another to hide the technical details and to take advantage of variable reuse from outer scope:</p>
<div class="highlight python"><pre><span></span><code><span class="k">def</span> <span class="nf">contains</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">recursive</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
            <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">recursive</span><span class="p">(</span><span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">recursive</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">middle</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="n">recursive</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>The <code>recursive()</code> inner function can access both <code>elements</code> and <code>value</code> parameters even though they’re defined in the enclosing scope. The life cycle and visibility of variables in Python is dictated by the so-called <strong>LEGB</strong> rule, which tells the interpreter to look for symbols in the following order:</p>
<ol>
<li><strong>Local</strong> scope</li>
<li><strong>Enclosing</strong> scope</li>
<li><strong>Global</strong> scope</li>
<li><strong>Built-in</strong> symbols</li>
</ol>
<p>This allows variables that are defined in outer scope to be accessed from within nested blocks of code.</p>
<p>The choice between an iterative and a recursive implementation is often the net result of performance considerations, convenience, as well as personal taste. However, there are also certain risks involved with recursion, which is one of the subjects of the next section.</p>
</section></section><section class="section2" id="covering-tricky-details"><h2>Covering Tricky Details</h2>
<p>Here’s what the author of <a href="https://realpython.com/asins/0321751043/"><em>The Art of Computer Programming</em></a> has to say about implementing the binary search algorithm:</p>
<blockquote>
<p>“Although the basic idea of binary search is comparatively straightforward, the details can be surprisingly tricky, and many good programmers have done it wrong the first few times they tried.”</p>
<p>— Donald Knuth</p>
</blockquote>
<p>If that doesn’t deter you enough from the idea of writing the algorithm yourself, then maybe this will. The standard library in <a href="https://realpython.com/oop-in-python-vs-java/">Java</a> had a subtle <a href="https://ai.googleblog.com/2006/06/extra-extra-read-all-about-it-nearly.html">bug</a> in their implementation of binary search, which remained undiscovered for a decade! But the bug itself traces its roots much earlier than that.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> I once fell victim to the binary search algorithm during a technical screening. There were a couple of coding puzzles to solve, including a binary search one. Guess which one I failed to complete? Yeah.</p>
</div>
<p>The following list isn’t exhaustive, but at the same time, it doesn’t talk about common mistakes like forgetting to sort the list.</p>
<div class="w-100 text-center js-needs-scaling" style="transform-origin: 0 0;"><div id="waldo-tag-5265" data-processed="true"></div> <a class="small text-muted js-disclosure" href="https://realpython.com/account/join/" rel="nofollow" style="display: none;"> <i aria-hidden="true" class="fa fa-info-circle"> </i> Remove ads</a></div><section class="section3" id="integer-overflow"><h3>Integer Overflow</h3>
<p>This is the Java bug that was just mentioned. If you recall, the binary search Python algorithm inspects the middle element of a bounded range in a sorted collection. But how is that middle element chosen exactly? Usually, you take the average of the lower and upper boundary to find the middle index:</p>
<div class="highlight python"><pre><span></span><code><span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</code></pre></div>
<p>This method of calculating the average works just fine in the overwhelming majority of cases. However, once the collection of elements becomes sufficiently large, the sum of both boundaries won’t fit the integer data type. It’ll be larger than the maximum value allowed for integers.</p>
<p>Some programming languages might raise an error in such situations, which would immediately stop program execution. Unfortunately, that’s not always the case. For example, Java silently ignores this problem, letting the value flip around and become some seemingly random number. You’ll only know about the problem as long as the resulting number happens to be negative, which throws an <code>IndexOutOfBoundsException</code>.</p>
<p>Here’s an example that demonstrates this behavior in <a href="https://en.wikipedia.org/wiki/JShell">jshell</a>, which is kind of like an interactive interpreter for Java:</p>
<div class="highlight java"><pre><span></span><code><span class="n">jshell</span><span class="o">&gt;</span> <span class="kd">var</span> <span class="n">a</span> <span class="o">=</span> <span class="n">Integer</span><span class="p">.</span><span class="na">MAX_VALUE</span>
<span class="n">a</span> <span class="o">==&gt;</span> <span class="mi">2147483647</span>

<span class="n">jshell</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">$2</span> <span class="o">==&gt;</span> <span class="o">-</span><span class="mi">2147483648</span>
</code></pre></div>
<p>A safer way to find the middle index could be calculating the offset first and then adding it to the lower boundary:</p>
<div class="highlight python"><pre><span></span><code><span class="n">middle</span> <span class="o">=</span> <span class="n">left</span> <span class="o">+</span> <span class="p">(</span><span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
</code></pre></div>
<p>Even if both values are maxed out, the sum in the formula above will never be. There are a few more ways, but the good news is that you don’t need to worry about any of these, because Python is free from the integer overflow error. There’s no upper limit on how big integers can be other than your memory:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="mi">2147483647</span><span class="o">**</span><span class="mi">7</span>
<span class="go">210624582650556372047028295576838759252690170086892944262392971263</span>
</code></pre></div>
<p>However, there’s a catch. When you call functions from a library, that code might be subject to the C language constraints and still cause an overflow. There are plenty of libraries based on the C language in Python. You could even build your own <a href="https://realpython.com/build-python-c-extension-module/">C extension module</a> or load a dynamically-linked library into Python using <a href="https://dbader.org/blog/python-ctypes-tutorial"><code>ctypes</code></a>.</p>
</section><section class="section3" id="stack-overflow"><h3>Stack Overflow</h3>
<p>The <strong>stack overflow</strong> problem may, theoretically, concern the recursive implementation of binary search. Most programming languages impose a limit on the number of nested function calls. Each call is associated with a return address stored on a stack. In Python, the default limit is a few thousand levels of such calls:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">getrecursionlimit</span><span class="p">()</span>
<span class="go">3000</span>
</code></pre></div>
<p>This won’t be enough for a lot of recursive functions. However, it’s very unlikely that a binary search in Python would ever need more due to its logarithmic nature. You’d need a collection of two to the power of three thousand elements. That’s a number with over <em>nine hundred</em> digits!</p>
<p>Nevertheless, it’s still possible for the <strong>infinite recursion error</strong> to arise if the stopping condition is stated incorrectly due to a bug. In such a case, the infinite recursion will eventually cause a stack overflow.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> The <strong>stack overflow error</strong> is very common among languages with manual memory management. People would often google those errors to see if someone else already had similar issues, which gave the name to a popular <a href="https://stackoverflow.com/">Q&amp;A site</a> for programmers.</p>
</div>
<p>You can temporarily lift or decrease the recursion limit to simulate a stack overflow error. Note that the effective limit will be smaller because of the functions that the Python runtime environment has to call:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">countup</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">limit</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">countup</span><span class="p">(</span><span class="n">limit</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="hll"><span class="gp">&gt;&gt;&gt; </span><span class="n">sys</span><span class="o">.</span><span class="n">setrecursionlimit</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>  <span class="c1"># Actual limit is 3</span>
</span><span class="gp">&gt;&gt;&gt; </span><span class="n">countup</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">1</span>
<span class="go">2</span>
<span class="go">3</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">4</span>, in <span class="n">countup</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">4</span>, in <span class="n">countup</span>
  File <span class="nb">"&lt;stdin&gt;"</span>, line <span class="m">2</span>, in <span class="n">countup</span>
<span class="gr">RecursionError</span>: <span class="n">maximum recursion depth exceeded while calling a Python object</span>
</code></pre></div>
<p>The recursive function was called three times before saturating the stack. The remaining four calls must have been made by the interactive interpreter. If you run that same code in <a href="https://realpython.com/pycharm-guide/">PyCharm</a> or an alternative Python shell, then you might get a different result.</p>
</section><section class="section3" id="duplicate-elements"><h3>Duplicate Elements</h3>
<p>You’re aware of the possibility of having duplicate elements in the list and you know how to deal with them. This is just to emphasize that a conventional binary search in Python might not produce deterministic results. Depending on how the list was sorted or how many elements it has, you’ll get a different answer:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">search.binary</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'apple'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">,</span> <span class="s1">'orange'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_index</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_fruits</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'plum'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">find_index</span><span class="p">(</span><span class="n">sorted_fruits</span><span class="p">,</span> <span class="s1">'banana'</span><span class="p">)</span>
<span class="go">2</span>
</code></pre></div>
<p>There are two bananas on the list. At first, the call to <code>find_index()</code> returns the left one. However, adding a completely unrelated element at the end of the list makes the same call give you a different <code>banana</code>.</p>
<p>The same principle, known as <strong>algorithm stability</strong>, applies to <a href="https://realpython.com/sorting-algorithms-python/">sorting algorithms</a>. Some are stable, meaning they don’t change the relative positions of equivalent elements. Others don’t make such guarantees. If you ever need to sort elements by multiple criteria, then you should always start from the least significant key to retain stability.</p>
</section><section class="section3" id="floating-point-rounding"><h3>Floating-Point Rounding</h3>
<p>So far you’ve only searched for fruits or people, but what about numbers? They should be no different, right? Let’s make a list of floating-point numbers at <code>0.1</code> increments using a <a href="https://realpython.com/courses/using-list-comprehensions-effectively/">list comprehension</a>:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">sorted_numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span>
</code></pre></div>
<p>The list should contain numbers the <em>one-tenth</em>, <em>two-tenths</em>, and <em>three-tenths</em>. Surprisingly, only two of those three numbers can be found:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">search.binary</span> <span class="kn">import</span> <span class="n">contains</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contains</span><span class="p">(</span><span class="n">sorted_numbers</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contains</span><span class="p">(</span><span class="n">sorted_numbers</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contains</span><span class="p">(</span><span class="n">sorted_numbers</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)</span>
<span class="go">False</span>
</code></pre></div>
<p>This isn’t a problem strictly related to binary search in Python, as the built-in linear search is consistent with it:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="mf">0.1</span> <span class="ow">in</span> <span class="n">sorted_numbers</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">0.2</span> <span class="ow">in</span> <span class="n">sorted_numbers</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mf">0.3</span> <span class="ow">in</span> <span class="n">sorted_numbers</span>
<span class="go">False</span>
</code></pre></div>
<p>It’s not even a problem related to Python but rather to how floating-point numbers are <a href="https://www.youtube.com/watch?v=PZRI1IfStY0">represented</a> in computer memory. This is defined by the IEEE 754 standard for floating-point arithmetic. Without going into much detail, some decimal numbers don’t have a finite representation in binary form. Because of limited memory, those numbers get <a href="https://realpython.com/python-rounding/">rounded</a>, causing a <strong>floating-point rounding error</strong>.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> If you require maximum precision, then steer away from floating-point numbers. They’re great for engineering purposes. However, for monetary operations, you don’t want rounding errors to accumulate. It’s recommended to scale down all prices and amounts to the smallest unit, such as cents or pennies, and treat them as integers.</p>
<p>Alternatively, many programming languages have support for <strong>fixed-point numbers</strong>, such as the <a href="https://pymotw.com/3/decimal/">decimal</a> type in Python. This puts you in control of when and how rounding is taking place.</p>
</div>
<p>If you do need to work with floating-point numbers, then you should replace exact matching with an <strong>approximate comparison</strong>. Let’s consider two variables with slightly different values:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">0.30000000000000004</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="go">False</span>
</code></pre></div>
<p>Regular comparison gives a negative result, although both values are nearly identical. Fortunately, Python comes with a function that will test if two values are close to each other within some small neighborhood:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
</code></pre></div>
<p>That neighborhood, which is the maximum distance between the values, can be adjusted if needed:</p>
<div class="highlight python repl"><span class="repl-toggle" title="Toggle REPL prompts and output">&gt;&gt;&gt;</span><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">rel_tol</span><span class="o">=</span><span class="mf">1e-16</span><span class="p">)</span>
<span class="go">False</span>
</code></pre></div>
<p>You can use that function to do a binary search in Python in the following way:</p>
<div class="highlight python"><pre><span></span><code><span class="kn">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">find_index</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
        <span class="n">middle</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

<span class="hll">        <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">],</span> <span class="n">value</span><span class="p">):</span>
</span>            <span class="k">return</span> <span class="n">middle</span>

        <span class="k">if</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">middle</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">elements</span><span class="p">[</span><span class="n">middle</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">middle</span> <span class="o">-</span> <span class="mi">1</span>
</code></pre></div>
<p>On the other hand, this implementation of binary search in Python is specific to floating-point numbers only. You couldn’t use it to search for anything else without getting an error.</p>
</section></section><section class="section2" id="analyzing-the-time-space-complexity-of-binary-search"><h2>Analyzing the Time-Space Complexity of Binary Search</h2>
<p>The following section will contain no code and some math concepts.</p>
<p>In computing, you can optimize the performance of pretty much any algorithm at the expense of increased memory use. For instance, you saw that a hash-based search of the IMDb dataset required an extra 0.5 GB of memory to achieve unparalleled speed.</p>
<p>Conversely, to save bandwidth, you’d compress a video stream before sending it over the network, increasing the amount of work to be done. This phenomenon is known as the <strong>space-time tradeoff</strong> and is useful in evaluating an algorithm’s <strong>complexity</strong>.</p>
<section class="section3" id="time-space-complexity"><h3>Time-Space Complexity</h3>
<p>The computational complexity is a <em>relative</em> measure of how many resources an algorithm needs to do its job. The resources include <strong>computation time</strong> as well as the amount of <strong>memory</strong> it uses. Comparing the complexity of various algorithms allows you to make an informed decision about which is better in a given situation.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Algorithms that don’t need to allocate more memory than their input data already consumes are called <strong>in-place</strong>, or <strong>in-situ</strong>, algorithms. This results in mutating the original data, which sometimes may have unwanted side-effects.</p>
</div>
<p>You looked at a few search algorithms and their average performance against a large dataset. It’s clear from those measurements that a binary search is faster than a linear search. You can even tell by what factor.</p>
<p>However, if you took the same measurements in a different environment, you’d probably get slightly or perhaps entirely different results. There are invisible factors at play that can be influencing your test. Besides, such measurements aren’t always feasible. So, how can you compare time complexities quickly and objectively?</p>
<p>The first step is to break down the algorithm into smaller pieces and find the one that is doing the most work. It’s likely going to be some <strong>elementary operation</strong> that gets called a lot and consistently takes about the same time to run. For search algorithms, such an operation might be the comparison of two elements.</p>
<p>Having established that, you can now analyze the algorithm. To find the time complexity, you want to describe the <strong>relationship</strong> between the number of elementary operations executed versus the size of the input. Formally, such a relationship is a mathematical function. However, you’re not interested in looking for its exact algebraic formula but rather <strong>estimating</strong> its overall shape.</p>
<p>There are a few well-known classes of functions that most algorithms fit in. Once you classify an algorithm according to one of them, you can put it on a scale:</p>
<figure class="figure mx-auto d-block"><a href="./How to Do a Binary Search in Python – Real Python_files/scale.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block " src="./How to Do a Binary Search in Python – Real Python_files/scale.webp" width="1024" height="100" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/scale.2acc590633c2.png&amp;w=256&amp;sig=0f0113d967eea0a3c1d0306c607d0b1f620b6e71 256w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/scale.2acc590633c2.png&amp;w=512&amp;sig=0d965fbab197994fa6e644f40449025dc486ed68 512w, https://files.realpython.com/media/scale.2acc590633c2.png 1024w" sizes="75vw" alt="Common Classes of Time Complexity"></a><figcaption class="figure-caption text-center">Common Classes of Time Complexity</figcaption></figure>
<p>These classes tell you how the number of elementary operations increases with the growing size of the input. They are, from left to right:</p>
<ul>
<li>Constant</li>
<li>Logarithmic</li>
<li>Linear</li>
<li>Quasilinear</li>
<li>Quadratic</li>
<li>Exponential</li>
<li>Factorial</li>
</ul>
<p>This can give you an idea about the performance of the algorithm you’re considering. A constant complexity, regardless of the input size, is the most desired one. A logarithmic complexity is still pretty good, indicating a divide-and-conquer technique at use. The further to the right on this scale, the worse the complexity of the algorithm, because it has more work to do.</p>
<p>When you’re talking about the time complexity, what you typically mean is the <strong>asymptotic complexity</strong>, which describes the behavior under very large data sets. This simplifies the function formula by eliminating all terms and coefficients but the one that grows at the fastest rate (for example, n squared).</p>
<p>However, a single function doesn’t provide enough information to compare two algorithms accurately. The time complexity may vary depending on the volume of data. For example, the binary search algorithm is like a turbocharged engine, which builds pressure before it’s ready to deliver power. On the other hand, the linear search algorithm is fast from the start but quickly reaches its peak power and ultimately loses the race:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/linear_binary_plot.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block " src="./How to Do a Binary Search in Python – Real Python_files/linear_binary_plot.webp" width="1280" height="720" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/linear_binary_plot.0fc7428a70f0.png&amp;w=320&amp;sig=357dad879aa67dc74401fadb027028162218b29d 320w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/linear_binary_plot.0fc7428a70f0.png&amp;w=640&amp;sig=51adab2905f3682eaa1dccd36cb93e99cf45541f 640w, https://files.realpython.com/media/linear_binary_plot.0fc7428a70f0.png 1280w" sizes="75vw" alt="Time Complexity of Linear Search and Binary Search"></a></p>
<p>In terms of speed, the binary search algorithm starts to overtake the linear search when there’s a certain number of elements in the collection. For smaller collections, a linear search might be a better choice.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> Note that the same algorithm may have different <strong>optimistic</strong>, <strong>pessimistic</strong>, and <strong>average</strong> time complexity. For example, in the best-case scenario, a linear search algorithm will find the element at the first index, after running just one comparison. </p>
<p>On the other end of the spectrum, it’ll have to compare a reference value to all elements in the collection. In practice, you want to know the pessimistic complexity of an algorithm.</p>
</div>
<p>There are a few mathematical notations of the asymptotic complexity, which are used to compare algorithms. By far the most popular one is the <strong>Big O notation</strong>.</p>
</section><section class="section3" id="the-big-o-notation"><h3>The Big O Notation</h3>
<p>The <strong><a href="https://en.wikipedia.org/wiki/Big_O_notation">Big O notation</a></strong> represents the worst-case scenario of asymptotic complexity. Although this might sound rather intimidating, you don’t need to know the formal definition. Intuitively, it’s a very rough measure of the rate of growth at the tail of the function that describes the complexity. You pronounce it as “<em>big oh” of something</em>:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/big-oh.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-50" src="./How to Do a Binary Search in Python – Real Python_files/big-oh.webp" width="1280" height="100" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/big-oh.217cd3f57332.png&amp;w=320&amp;sig=3a7a19f1a99ede723384267d258356b52e816511 320w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/big-oh.217cd3f57332.png&amp;w=640&amp;sig=0f80a86a2a2d8ada012e79a69b3fe3aedc429bb6 640w, https://files.realpython.com/media/big-oh.217cd3f57332.png 1280w" sizes="75vw" alt="The Big-O Notation"></a></p>
<p>That “something” is usually a function of data size or just the digit “one” that stands for a constant. For example, the linear search algorithm has a time complexity of <code>O(n)</code>, while a hash-based search has <code>O(1)</code> complexity.</p>
<div class="alert alert-primary" role="alert">
<p><strong>Note:</strong> When you say that some algorithm has complexity <code>O(f(n))</code>, where <code>n</code> is the size of the input data, then it means that the function <code>f(n)</code> is an upper bound of the graph of that complexity. In other words, the actual complexity of that algorithm won’t grow faster than <code>f(n)</code> multiplied by some constant, when <code>n</code> approaches infinity.</p>
</div>
<p>In real-life, the Big O notation is used less formally as both an upper and a lower bound. This is useful for the classification and comparison of algorithms without having to worry about the exact function formulas.</p>
</section><section class="section3" id="the-complexity-of-binary-search"><h3>The Complexity of Binary Search</h3>
<p>You’ll estimate the asymptotic time complexity of binary search by determining the number of comparisons in the worst-case scenario—when an element is missing—as a function of input size. You can approach this problem in three different ways:</p>
<ol>
<li>Tabular</li>
<li>Graphical</li>
<li>Analytical</li>
</ol>
<p>The <strong>tabular</strong> method is about collecting empirical data, putting it in a table, and trying to guess the formula by eyeballing sampled values:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Number of Elements</th>
<th>Number of Comparisons</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>3</td>
</tr>
<tr>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>6</td>
<td>3</td>
</tr>
<tr>
<td>7</td>
<td>3</td>
</tr>
<tr>
<td>8</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
<p>The number of comparisons grows as you increase the number of elements in the collection, but the rate of growth is slower than if it was a linear function. That’s an indication of a good algorithm that can scale with data.</p>
<p>If that doesn’t help you, you can try the <strong>graphical</strong> method, which visualizes the sampled data by drawing a graph:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/plot_empirical.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block " src="./How to Do a Binary Search in Python – Real Python_files/plot_empirical.webp" width="1280" height="720" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/plot_empirical.0c438614f9fa.png&amp;w=320&amp;sig=d996ed765861cb27a4a74f2fa18150c11d156431 320w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/plot_empirical.0c438614f9fa.png&amp;w=640&amp;sig=93fbb2b049c534aed3d67e122a292edaa6e946e8 640w, https://files.realpython.com/media/plot_empirical.0c438614f9fa.png 1280w" sizes="75vw" alt="Empirical Data of Binary Search"></a></p>
<p>The data points seem to overlay with a curve, but you don’t have enough information to provide a conclusive answer. It could be a <a href="https://en.wikipedia.org/wiki/Polynomial">polynomial</a>, whose graph turns up and down for larger inputs.</p>
<p>Taking the <strong>analytical</strong> approach, you can choose some relationship and look for patterns. For example, you might study how the number of elements shrinks in each step of the algorithm:</p>
<div class="table-responsive">
<table class="table table-hover">
<thead>
<tr>
<th>Comparison</th>
<th>Number of Elements</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>n</td>
</tr>
<tr>
<td>1st</td>
<td>n/2</td>
</tr>
<tr>
<td>2nd</td>
<td>n/4</td>
</tr>
<tr>
<td>3rd</td>
<td>n/8</td>
</tr>
<tr>
<td>⋮</td>
<td>⋮</td>
</tr>
<tr>
<td>k-th</td>
<td>n/2 <sup>k</sup></td>
</tr>
</tbody>
</table>
</div>
<p>In the beginning, you start with the whole collection of <em>n</em> elements. After the first comparison, you’re left with only half of them. Next, you have a quarter, and so on. The pattern that arises from this observation is that after <em>k-th</em> comparison, there are <em>n/2 <sup>k</sup></em> elements. Variable <em>k</em> is the expected number of elementary operations.</p>
<p>After all <em>k</em> comparisons, there will be no more elements left. However, when you take one step back, that is <em>k - 1</em>, there will be exactly one element left. This gives you a convenient equation:</p>
<p><a href="./How to Do a Binary Search in Python – Real Python_files/binary-search-complexity.webp" target="_blank"><img loading="lazy" class="img-fluid mx-auto d-block w-50" src="./How to Do a Binary Search in Python – Real Python_files/binary-search-complexity.webp" width="1280" height="550" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/binary-search-complexity.5863e5e14cec.png&amp;w=320&amp;sig=2b2506251e96fe69c87c8e0fb9022d852fea9de8 320w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/binary-search-complexity.5863e5e14cec.png&amp;w=640&amp;sig=1c89f61502ffcfb8304ee9decbb5009f6d3a5f61 640w, https://files.realpython.com/media/binary-search-complexity.5863e5e14cec.png 1280w" sizes="75vw" alt="The Equation of Binary Search Complexity"></a></p>
<p>Multiply both sides of the equation by the denominator, then take the logarithm base two of the result, and move the remaining constant to the right. You’ve just found the formula for the binary search complexity, which is on the order of <code>O(log(n))</code>.</p>
</section></section><section class="section2" id="conclusion"><h2>Conclusion</h2>
<p>Now you know the binary search algorithm inside and out. You can flawlessly implement it yourself, or take advantage of the standard library in Python. Having tapped into the concept of time-space complexity, you’re able to choose the best search algorithm for the given situation.</p>
<p><strong>Now you can:</strong></p>
<ul>
<li>Use the <strong><code>bisect</code></strong> module to do a binary search in Python</li>
<li>Implement binary search in Python <strong>recursively</strong> and <strong>iteratively</strong></li>
<li>Recognize and fix <strong>defects</strong> in a binary search Python implementation</li>
<li>Analyze the <strong>time-space complexity</strong> of the binary search algorithm</li>
<li>Search even <strong>faster</strong> than binary search</li>
</ul>
<p>With all this knowledge, you’ll rock your <strong><a href="https://realpython.com/python-coding-interview-tips/">programming interview</a></strong>! Whether the binary search algorithm is an optimal solution to a particular problem, you have the tools to figure it out on your own. You don’t need a computer science degree to do so.</p>
<p>You can grab all of the code you’ve seen in this tutorial at the link below:</p>
<div class="alert alert-warning" role="alert"><p><strong>Get Sample Code:</strong> <a href="https://realpython.com/bonus/binary-search-python-code/" class="alert-link" data-toggle="modal" data-target="#modal-binary-search-python-code" data-focus="false">Click here to get the sample code you'll use</a> to learn about binary search in Python in this tutorial.</p></div>
</section>
</div>
<div class="card mt-4 mb-4 bg-secondary">
<p class="card-header h3 text-center bg-light">🐍 Python Tricks 💌</p>
<div class="card-body">
<div class="container">
<div class="row">
<div class="col-xs-12 col-sm-7">
<p>Get a short &amp; sweet <strong>Python Trick</strong> delivered to your inbox every couple of days. No spam ever. Unsubscribe any time. Curated by the Real Python team.</p>
</div>
<div class="col-xs-12 col-sm-5">
<img class="img-fluid rounded mb-3" src="./How to Do a Binary Search in Python – Real Python_files/pytrick-dict-merge.webp" width="738" height="490" alt="Python Tricks Dictionary Merge">
</div>
</div>
<div class="row mb-3">
<form class="col-12" action="https://realpython.com/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="YygwrvFhabYz5augRCQsVc5sWYqRhiAvpFxD85CzYHkUX8WuDjtkrTrkRMKh7E7F">
<input type="hidden" name="slug" value="static-python-tricks-footer">
<div class="form-group">
<input name="email" type="email" class="form-control form-control-lg" placeholder="Email Address" required="">
</div>
<button name="submit" type="submit" class="btn btn-primary btn-lg btn-block">Send Me Python Tricks »</button>
</form>
</div>
</div>
</div>
</div>
<div class="card mt-3" id="author">
<p class="card-header h3">About <strong>Bartosz Zaczyński</strong></p>
<div class="card-body">
<div class="container p-0">
<div class="row">
<div class="col-12 col-md-3 align-self-center">
<a href="https://realpython.com/team/bzaczynski/"><img loading="lazy" src="./How to Do a Binary Search in Python – Real Python_files/saved_resource" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=225&amp;h=225&amp;mode=crop&amp;sig=8e1a0d84149944be3c2615404fb46e7da001c17f 225w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=450&amp;h=450&amp;mode=crop&amp;sig=2e7c93ebefa8a958432160f29cd4a09c889ae8d3 450w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=900&amp;h=900&amp;mode=crop&amp;sig=84695876e8b66be5e91aa5eb72f25a3fb4dcceeb 900w" sizes="25vw" width="900" height="900" class="d-block d-md-none rounded-circle img-fluid w-33 mb-0 mx-auto" alt="Bartosz Zaczyński"></a>
<a href="https://realpython.com/team/bzaczynski/"><img loading="lazy" src="./How to Do a Binary Search in Python – Real Python_files/saved_resource" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=225&amp;h=225&amp;mode=crop&amp;sig=8e1a0d84149944be3c2615404fb46e7da001c17f 225w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=450&amp;h=450&amp;mode=crop&amp;sig=2e7c93ebefa8a958432160f29cd4a09c889ae8d3 450w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/profile-picture.9b78351e1462.jpg&amp;w=900&amp;h=900&amp;mode=crop&amp;sig=84695876e8b66be5e91aa5eb72f25a3fb4dcceeb 900w" sizes="25vw" width="900" height="900" class="d-none d-md-block rounded-circle img-fluid w-100 mb-0" alt="Bartosz Zaczyński"></a>
</div>
<div class="col mt-3">
<p>Bartosz is a bootcamp instructor, author, and polyglot programmer in love with Python. He helps his students get into software engineering by sharing over a decade of commercial experience in the IT industry.</p>
<a href="https://realpython.com/team/bzaczynski/" class="card-link">» More about Bartosz</a>
</div>
</div>
</div>
</div>
<hr class="my-0">
<div class="card-body pb-0">
<div class="container">
<div class="row">
<p><em>Each tutorial at Real Python is created by a team of developers so that it meets our high quality standards. The team members who worked on this tutorial are:</em></p>
</div>
<div class="row align-items-center w-100 mx-auto">
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/asantos/"><img loading="lazy" src="./How to Do a Binary Search in Python – Real Python_files/saved_resource(1)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/asantos-avatar.888c78fffab3.jpg&amp;w=175&amp;h=175&amp;mode=crop&amp;sig=30253487c673fd67bb45ea6bef95b3c57e115e46 175w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/asantos-avatar.888c78fffab3.jpg&amp;w=350&amp;h=350&amp;mode=crop&amp;sig=a43bd9ea30a6f61a4fc2451ab9abfc6faec8a2c0 350w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/asantos-avatar.888c78fffab3.jpg&amp;w=700&amp;h=700&amp;mode=crop&amp;sig=be17609cd7f6a4cd249ff61e186b3ad1aece949c 700w" sizes="10vw" width="900" height="900" class="rounded-circle img-fluid w-100" alt="Aldren Santos"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/asantos/" class="card-link small"><p>Aldren</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/gahjelle/"><img loading="lazy" src="./How to Do a Binary Search in Python – Real Python_files/saved_resource(2)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=200&amp;h=200&amp;mode=crop&amp;sig=c6390201e73d3e09429d73da5bb29c17ab10403a 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=400&amp;h=400&amp;mode=crop&amp;sig=fcea459ee24a7b320573cadee324cf75509dc1d6 400w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/gahjelle.470149ee709e.jpg&amp;w=800&amp;h=800&amp;mode=crop&amp;sig=e9b761c6cf1359953014dba05554f5424eb116e1 800w" sizes="10vw" width="900" height="900" class="rounded-circle img-fluid w-100" alt="Geir Arne Hjelle"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/gahjelle/" class="card-link small"><p>Geir Arne</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/jayazhane/"><img loading="lazy" src="./How to Do a Binary Search in Python – Real Python_files/saved_resource(3)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/author-jpowell.ecce5da51b65.jpg&amp;w=143&amp;h=143&amp;mode=crop&amp;sig=ecfc9b8b8a06ab615832480701300a71a9bb1415 143w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/author-jpowell.ecce5da51b65.jpg&amp;w=286&amp;h=286&amp;mode=crop&amp;sig=1ce326cbdd6a73e2b78c11a6c0b71603118da884 286w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/author-jpowell.ecce5da51b65.jpg&amp;w=572&amp;h=572&amp;mode=crop&amp;sig=470fc95873961cae0d7aa2ade0d7ba7e2a1c000c 572w" sizes="10vw" width="900" height="900" class="rounded-circle img-fluid w-100" alt="Jaya Zhané"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/jayazhane/" class="card-link small"><p>Jaya</p></a>
</div>
</div>
<div class="row align-items-center w-100 mx-auto">
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/jfincher/"><img loading="lazy" src="./How to Do a Binary Search in Python – Real Python_files/saved_resource(4)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Running_headshot.20bba3e79e1c.jpg&amp;w=84&amp;h=84&amp;mode=crop&amp;sig=c6b19a6bcf8df677f2ab95850bb967c0bb4e05da 84w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Running_headshot.20bba3e79e1c.jpg&amp;w=168&amp;h=168&amp;mode=crop&amp;sig=d31d31c38382810b640cda0071dde29cda1695de 168w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/Running_headshot.20bba3e79e1c.jpg&amp;w=336&amp;h=336&amp;mode=crop&amp;sig=81af17102bb9a3bbad9168ef7238a4d624eeed66 336w" sizes="10vw" width="900" height="900" class="rounded-circle img-fluid w-100" alt="Jon Fincher"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/jfincher/" class="card-link small"><p>Jon</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center">
<a href="https://realpython.com/team/jjablonski/"><img loading="lazy" src="./How to Do a Binary Search in Python – Real Python_files/saved_resource(5)" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=200&amp;h=200&amp;mode=crop&amp;sig=706b16de3cb88a8f353f4a98d7c7bc7234229bd0 200w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=400&amp;h=400&amp;mode=crop&amp;sig=6d7aa672ca3f1ac5f7cd62ed1641b60f98d04d8b 400w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/jjablonksi-avatar.e37c4f83308e.jpg&amp;w=800&amp;h=800&amp;mode=crop&amp;sig=c363b704eeccb35f2247db13baff3d4383459858 800w" sizes="10vw" width="900" height="900" class="rounded-circle img-fluid w-100" alt="Joanna Jablonski"></a>
</div>
<div class="col pl-0 d-none d-sm-block">
<a href="https://realpython.com/team/jjablonski/" class="card-link small"><p>Joanna</p></a>
</div>
<div class="col-4 col-sm-2 align-self-center"></div>
<div class="col pl-0 d-none d-sm-block"></div>
</div>
</div>
</div>
</div>
<div class="bg-light rounded py-4 my-4 shadow shadow-sm mx-n2">
<div class="col-12 text-center d-block d-md-none">
<p class="h2 mb-3">Master <u><span class="marker-highlight">Real-World Python Skills</span></u> With Unlimited Access to Real&nbsp;Python</p>
<p class="mb-1"><img class="w-75" src="./How to Do a Binary Search in Python – Real Python_files/lesson-locked.f5105cfd26db.svg"></p>
<p class="mx-auto w-75 mb-3 small"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert&nbsp;Pythonistas:</strong></p>
<p class="mb-0"><a href="https://realpython.com/account/join/?utm_source=rp_article_footer&amp;utm_content=binary-search-python" class="btn btn-primary btn-sm px-4 mb-0">Level Up Your Python Skills »</a>
</p></div>
<div class="col-12 text-center d-none d-md-block">
<p class="h2 mb-2">Master <u><span class="marker-highlight">Real-World Python Skills</span></u><br>With Unlimited Access to Real&nbsp;Python</p>
<p class="mb-2"><img class="w-50 mb-2" src="./How to Do a Binary Search in Python – Real Python_files/lesson-locked.f5105cfd26db.svg"></p>
<p class="mx-auto w-50 mb-3"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert Pythonistas:</strong></p>
<p><a href="https://realpython.com/account/join/?utm_source=rp_article_footer&amp;utm_content=binary-search-python" class="btn btn-primary btn-lg px-4">Level Up Your Python Skills »</a>
</p></div>
</div>
<div class="card mt-4" id="reader-comments">
<p class="card-header h3">What Do You Think?</p>
<div class="text-center mt-3 mb-0 p-0">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20How%20to%20Do%20a%20Binary%20Search%20in%20Python%20by%20@realpython&amp;url=https%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0AHow%20to%20Do%20a%20Binary%20Search%20in%20Python%0A%0Ahttps%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
<div class="card-body">
<div class="alert alert-dark">
<p class="mb-0"><strong>Real Python Comment Policy:</strong> The most useful comments are those written with the goal of learning from or helping out other readers—after reading the whole article and all the earlier comments. Complaints and insults generally won’t make the cut here.</p>
</div>
<p>What’s your #1 takeaway or favorite thing you learned? How are you going to put your newfound skills to use? Leave a comment below and let us know.</p>
<div class="mb-4" id="disqus_thread">
</div>
</div>
</div>
<div class="card mt-4 mb-4">
<p class="card-header h3">Keep Learning</p>
<div class="card-body">
<p class="mb-0">Related Tutorial Categories:
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
</p>
</div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" id="rpvc">
<div class="modal-dialog modal-lg modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header border-0 mt-3">
<div class="col-12 modal-title text-center">
<h2 class="my-0 mx-5">Master <u>Real-World Python Skills</u> With Unlimited Access to Real Python</h2>
<p class="text-center text-muted mt-2 mb-1">Already a member? <a href="https://realpython.com/account/login/">Sign-In</a></p>
</div>
</div>
<div class="modal-body bg-light">
<div class="col-12 text-center">
<p class="mb-2 mt-3"><a href="https://realpython.com/account/join/?utm_source=rp&amp;utm_medium=web&amp;utm_campaign=pwn&amp;utm_content=v1"><img class="w-50 mb-2" src="./How to Do a Binary Search in Python – Real Python_files/lesson-locked.f5105cfd26db.svg"></a></p>
<p class="mx-auto w-66 mb-3"><strong>Join us and get access to hundreds of tutorials, hands-on video courses, and a community of expert Pythonistas:</strong></p>
<p><a href="https://realpython.com/account/join/?utm_source=rp&amp;utm_medium=web&amp;utm_campaign=pwn&amp;utm_content=v1" class="btn btn-primary btn-lg px-4">See Membership Options »</a>
</p></div>
</div>
<div class="modal-footer border-0">
<button class="text-muted btn" data-dismiss="modal">Close</button>
</div>
</div>
</div>
</div>
</div>
<aside class="col-md-7 col-lg-4">
<div class="card mb-3 bg-secondary">
<form class="card-body" action="https://realpython.com/optins/process/" method="post">
<div class="form-group">
<p class="h5 text-muted text-center">— FREE Email Series —</p>
<p class="h3 text-center">🐍 Python Tricks 💌</p>
<p><img class="img-fluid rounded" src="./How to Do a Binary Search in Python – Real Python_files/pytrick-dict-merge.webp" width="738" height="490" alt="Python Tricks Dictionary Merge"></p>
</div>
<div class="form-group">
<input type="hidden" name="csrfmiddlewaretoken" value="YygwrvFhabYz5augRCQsVc5sWYqRhiAvpFxD85CzYHkUX8WuDjtkrTrkRMKh7E7F">
<input type="hidden" name="slug" value="static-python-tricks-sidebar">
<input type="email" class="form-control form-control-md" name="email" placeholder="Email…" required="">
</div>
<button type="submit" name="submit" class="btn btn-primary btn-md btn-block">Get Python Tricks »</button>
<p class="mb-0 mt-2 text-muted text-center">🔒 No spam. Unsubscribe any time.</p>
</form>
</div>
<div class="sidebar-module sidebar-module-inset border">
<p class="h4"><a class="link-unstyled" href="https://realpython.com/tutorials/all/">All Tutorial Topics</a></p>
<a href="https://realpython.com/tutorials/advanced/" class="badge badge-light text-muted">advanced</a>
<a href="https://realpython.com/tutorials/api/" class="badge badge-light text-muted">api</a>
<a href="https://realpython.com/tutorials/basics/" class="badge badge-light text-muted">basics</a>
<a href="https://realpython.com/tutorials/best-practices/" class="badge badge-light text-muted">best-practices</a>
<a href="https://realpython.com/tutorials/community/" class="badge badge-light text-muted">community</a>
<a href="https://realpython.com/tutorials/databases/" class="badge badge-light text-muted">databases</a>
<a href="https://realpython.com/tutorials/data-science/" class="badge badge-light text-muted">data-science</a>
<a href="https://realpython.com/tutorials/devops/" class="badge badge-light text-muted">devops</a>
<a href="https://realpython.com/tutorials/django/" class="badge badge-light text-muted">django</a>
<a href="https://realpython.com/tutorials/docker/" class="badge badge-light text-muted">docker</a>
<a href="https://realpython.com/tutorials/flask/" class="badge badge-light text-muted">flask</a>
<a href="https://realpython.com/tutorials/front-end/" class="badge badge-light text-muted">front-end</a>
<a href="https://realpython.com/tutorials/intermediate/" class="badge badge-light text-muted">intermediate</a>
<a href="https://realpython.com/tutorials/machine-learning/" class="badge badge-light text-muted">machine-learning</a>
<a href="https://realpython.com/tutorials/projects/" class="badge badge-light text-muted">projects</a>
<a href="https://realpython.com/tutorials/python/" class="badge badge-light text-muted">python</a>
<a href="https://realpython.com/tutorials/testing/" class="badge badge-light text-muted">testing</a>
<a href="https://realpython.com/tutorials/tools/" class="badge badge-light text-muted">tools</a>
<a href="https://realpython.com/tutorials/web-dev/" class="badge badge-light text-muted">web-dev</a>
<a href="https://realpython.com/tutorials/web-scraping/" class="badge badge-light text-muted">web-scraping</a>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:100%;"></div>
<div class="rpad" data-unit="1x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"><a href="https://srv.realpython.net/click/53917004105/?c=36789383886&amp;p=58946116052&amp;r=21867" rel="nofollow" target="_blank"><img src="./How to Do a Binary Search in Python – Real Python_files/55434e36d935139326aa3cb816fa9bc5" style="max-width: 100%; max-height: 100%; width: 100%;"></a></div>
</div>
</div>
<div class="sidebar-sticky sidebar-nav-message">
<div class="bg-light sidebar-module sidebar-module-inset" style="max-height: 80vh; overflow-y: scroll;" id="sidebar-toc">
<p class="h4 text-muted"><a class="link-unstyled" href="https://realpython.com/binary-search-python/#toc">Table of Contents</a></p>
<div class="toc">
<ul>
<li class="active"><a href="https://realpython.com/binary-search-python/#benchmarking">Benchmarking</a><ul>
<li><a href="https://realpython.com/binary-search-python/#download-imdb">Download IMDb</a></li>
<li><a href="https://realpython.com/binary-search-python/#read-tab-separated-values">Read Tab-Separated Values</a></li>
<li><a href="https://realpython.com/binary-search-python/#measure-the-execution-time">Measure the Execution Time</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#understanding-search-algorithms">Understanding Search Algorithms</a><ul>
<li><a href="https://realpython.com/binary-search-python/#random-search">Random Search</a></li>
<li><a href="https://realpython.com/binary-search-python/#linear-search">Linear Search</a></li>
<li><a href="https://realpython.com/binary-search-python/#binary-search">Binary Search</a></li>
<li><a href="https://realpython.com/binary-search-python/#hash-based-search">Hash-Based Search</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#using-the-bisect-module">Using the bisect Module</a><ul>
<li><a href="https://realpython.com/binary-search-python/#finding-an-element">Finding an Element</a></li>
<li><a href="https://realpython.com/binary-search-python/#inserting-a-new-element">Inserting a New Element</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#implementing-binary-search-in-python">Implementing Binary Search in Python</a><ul>
<li><a href="https://realpython.com/binary-search-python/#iteratively">Iteratively</a></li>
<li><a href="https://realpython.com/binary-search-python/#recursively">Recursively</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#covering-tricky-details">Covering Tricky Details</a><ul>
<li><a href="https://realpython.com/binary-search-python/#integer-overflow">Integer Overflow</a></li>
<li><a href="https://realpython.com/binary-search-python/#stack-overflow">Stack Overflow</a></li>
<li><a href="https://realpython.com/binary-search-python/#duplicate-elements">Duplicate Elements</a></li>
<li><a href="https://realpython.com/binary-search-python/#floating-point-rounding">Floating-Point Rounding</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#analyzing-the-time-space-complexity-of-binary-search">Analyzing the Time-Space Complexity of Binary Search</a><ul>
<li><a href="https://realpython.com/binary-search-python/#time-space-complexity">Time-Space Complexity</a></li>
<li><a href="https://realpython.com/binary-search-python/#the-big-o-notation">The Big O Notation</a></li>
<li><a href="https://realpython.com/binary-search-python/#the-complexity-of-binary-search">The Complexity of Binary Search</a></li>
</ul>
</li>
<li><a href="https://realpython.com/binary-search-python/#conclusion">Conclusion</a></li>
</ul>
</div>
</div>
<div class="sidebar-module sidebar-module-inset text-center my-3 py-0">
<span>
<a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet/?text=Check%20out%20this%20%23Python%20tutorial:%20How%20to%20Do%20a%20Binary%20Search%20in%20Python%20by%20@realpython&amp;url=https%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-twitter text-light mb-1"><i class="mr-1 fa fa-twitter text-light"></i>Tweet</a>
<a target="_blank" rel="nofollow" href="https://facebook.com/sharer/sharer.php?u=https%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-facebook text-light mb-1"><i class="mr-1 fa fa-facebook text-light"></i>Share</a>
<a target="_blank" rel="nofollow" href="mailto:?subject=Python%20article%20for%20you&amp;body=Check%20out%20this%20Python%20tutorial:%0A%0AHow%20to%20Do%20a%20Binary%20Search%20in%20Python%0A%0Ahttps%3A//realpython.com/binary-search-python/" class="mr-1 badge badge-red text-light mb-1"><i class="mr-1 fa fa-envelope text-light"></i>Email</a>
</span>
</div>
<div class="sidebar-module sidebar-module-inset p-0" style="overflow:hidden;">
<div style="display:block;position:relative;">
<div style="display:block;width:100%;padding-top:25%;"></div>
<div class="rpad" data-unit="4x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"><a href="https://srv.realpython.net/click/64754707389/?c=31941813441&amp;p=58946116052&amp;r=62240" rel="nofollow" target="_blank"><img src="./How to Do a Binary Search in Python – Real Python_files/257f65e32c1713399c59dacea36eb818" style="max-width: 100%; max-height: 100%; width: 100%;"></a></div>
</div>
</div>
</div>
</aside>
</div>
</div>
<div class="modal fade" id="modal-binary-search-python-code" tabindex="-1" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
<div class="modal-content">
<div class="modal-header bg-light pt-3 pb-2">
<div class="container-fluid">
<div class="row">
<div class="col-12">
<div class="progress" style="height: .5rem;">
 <div class="progress-bar progress-bar-striped progress-bar-animated w-50" role="progressbar"></div>
</div>
</div>
<div class="col-12">
<p class="text-muted text-center mb-0 mt-2">Almost there! Complete this form and click the button below to gain instant access:</p>
</div>
</div>
</div>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">×</span>
</button>
</div>
<div class="modal-body m-4">
<div class="container-fluid">
<div class="row align-items-center">
<div class="col-12 col-lg-4 mb-4">
<img class="img-fluid rounded" src="./How to Do a Binary Search in Python – Real Python_files/13-Python-Projects-for-Intermediate-Developers_Watermarked.bb98d44bdb10.jpg" width="1920" height="1080" srcset="https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/13-Python-Projects-for-Intermediate-Developers_Watermarked.bb98d44bdb10.jpg&amp;w=480&amp;sig=28283997fa497bdbb07c82f5f0ecd5d0b963e180 480w, https://robocrop.realpython.net/?url=https%3A//files.realpython.com/media/13-Python-Projects-for-Intermediate-Developers_Watermarked.bb98d44bdb10.jpg&amp;w=960&amp;sig=ae7ceacdecc239eca5086811df693bf4b590b27c 960w, https://files.realpython.com/media/13-Python-Projects-for-Intermediate-Developers_Watermarked.bb98d44bdb10.jpg 1920w" sizes="50vw" alt="13 Project Ideas for Intermediate Python Developers">
</div>
<div class="col">
<p class="text-center h3 mb-4">Binary Search in Python (Sample Code)</p>
<form class="col-12" action="https://realpython.com/optins/process/" method="post">
<input type="hidden" name="csrfmiddlewaretoken" value="YygwrvFhabYz5augRCQsVc5sWYqRhiAvpFxD85CzYHkUX8WuDjtkrTrkRMKh7E7F">
<input type="hidden" name="slug" value="binary-search-python-code">
<div class="form-group">
<input type="email" name="email" class="form-control" placeholder="Email Address" required="" autofocus="">
</div>
<button name="submit" type="submit" class="btn btn-primary btn-block text-wrap">Send Code »</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<footer class="footer">
<div class="container">
<p class="text-center text-muted w-75 mx-auto">© 2012–2020 Real Python&nbsp;⋅ <a href="https://realpython.com/newsletter/">Newsletter</a>&nbsp;⋅ <a href="https://realpython.com/podcasts/rpp/">Podcast</a>&nbsp;⋅ <a href="https://www.youtube.com/realpython">YouTube</a>&nbsp;⋅ <a href="https://twitter.com/realpython">Twitter</a>&nbsp;⋅ <a href="https://facebook.com/LearnRealPython">Facebook</a>&nbsp;⋅ <a href="https://www.instagram.com/realpython/">Instagram</a>&nbsp;⋅ <a href="https://realpython.com/">Python&nbsp;Tutorials</a>&nbsp;⋅ <a href="https://realpython.com/search">Search</a>&nbsp;⋅ <a href="https://realpython.com/privacy-policy/">Privacy Policy</a>&nbsp;⋅ <a href="https://realpython.com/energy-policy/" class="text-success active">Energy Policy</a>&nbsp;⋅ <a href="https://realpython.com/sponsorships/">Advertise</a>&nbsp;⋅ <a href="https://realpython.com/contact/">Contact</a><br>❤️ Happy Pythoning!</p>
</div>
</footer>
<script>
      (function(document, history, location) {
        var HISTORY_SUPPORT = !!(history && history.pushState);

        var anchorScrolls = {
          ANCHOR_REGEX: /^#[^ ]+$/,
          OFFSET_HEIGHT_PX: 120,

          /**
           * Establish events, and fix initial scroll position if a hash is provided.
           */
          init: function() {
            this.scrollToCurrent();
            window.addEventListener('hashchange', this.scrollToCurrent.bind(this));
            document.body.addEventListener('click', this.delegateAnchors.bind(this));
          },

          /**
           * Return the offset amount to deduct from the normal scroll position.
           * Modify as appropriate to allow for dynamic calculations
           */
          getFixedOffset: function() {
            return this.OFFSET_HEIGHT_PX;
          },

          /**
           * If the provided href is an anchor which resolves to an element on the
           * page, scroll to it.
           * @param  {String} href
           * @return {Boolean} - Was the href an anchor.
           */
          scrollIfAnchor: function(href, pushToHistory) {
            var match, rect, anchorOffset;

            if(!this.ANCHOR_REGEX.test(href)) {
              return false;
            }

            match = document.getElementById(href.slice(1));

            if(match) {
              rect = match.getBoundingClientRect();
              anchorOffset = window.pageYOffset + rect.top - this.getFixedOffset();
              window.scrollTo(window.pageXOffset, anchorOffset);

              // Add the state to history as-per normal anchor links
              if(HISTORY_SUPPORT && pushToHistory) {
                history.pushState({}, document.title, location.pathname + href);
              }
            }

            return !!match;
          },

          /**
           * Attempt to scroll to the current location's hash.
           */
          scrollToCurrent: function() {
            this.scrollIfAnchor(window.location.hash);
          },

          /**
           * If the click event's target was an anchor, fix the scroll position.
           */
          delegateAnchors: function(e) {
            var elem = e.target;

            if(
              elem.nodeName === 'A' &&
              this.scrollIfAnchor(elem.getAttribute('href'), true)
            ) {
              e.preventDefault();
            }
          }
        };

        window.addEventListener(
          'DOMContentLoaded', anchorScrolls.init.bind(anchorScrolls)
        );
      })(window.document, window.history, window.location);
    </script>
<script src="./How to Do a Binary Search in Python – Real Python_files/jquery.min.dc5e7f18c8d3.js.download"></script>
<script src="./How to Do a Binary Search in Python – Real Python_files/popper.min.1022eaf388cc.js.download"></script>
<script src="./How to Do a Binary Search in Python – Real Python_files/bootstrap.min.6bea60c34c5d.js.download"></script>
<script src="./How to Do a Binary Search in Python – Real Python_files/repl-toggle.366cb6d72340.js.download"></script>
<script>window.rp_prop_id = '58946116052';</script>
<script src="./How to Do a Binary Search in Python – Real Python_files/tag.js.download" async=""></script>
<script src="./How to Do a Binary Search in Python – Real Python_files/2153.js.download"></script>
<script>
  (function() {
    function throttle(a, b) { var c, d; return function () { var e = this, f = arguments, g = +new Date; c && g < c + a ? (clearTimeout(d), d = setTimeout(function () { c = g, b.apply(e, f) }, a)) : (c = g, b.apply(e, f)) } }
    var elems = document.getElementsByClassName("js-needs-scaling");
    var resizeAll = function() {
      Array.prototype.forEach.call(elems, function(elem) {
        var frames = elem.getElementsByTagName("iframe")
        if (frames.length === 0) {
          return;
        }
        var disclosure = elem.getElementsByClassName("js-disclosure");
        if (disclosure.length > 0) {
          disclosure[0].style.display = "";
        } else {
          disclosure[0].style.display = "none";
        }
        if (frames[0].clientWidth <= elem.parentElement.clientWidth) {
          elem.style.transform = "";
          elem.classList.add("text-center");
          return;
        }
        elem.classList.remove("text-center");
        elem.style.transform = "scale(" + elem.clientWidth / frames[0].width + ")";
      });
    }
    var periodicResize = function() {
      resizeAll();
      setTimeout(periodicResize, 100);
    }
    setTimeout(periodicResize, 100);
  })();
  </script>
<script src="./How to Do a Binary Search in Python – Real Python_files/toc-refresh.412f6e102282.js.download" async=""></script>
<script id="dsq-count-scr" src="./How to Do a Binary Search in Python – Real Python_files/count.js.download" async=""></script>
<script>
      var disqus_config = function () {
        this.page.url = 'https://realpython.com/binary-search-python/';
        this.page.identifier = 'https://realpython.com/binary-search-python/';
        this.callbacks.onReady = [function() {
          if (window.onDisqusReady) {
            window.onDisqusReady();
          }
        }];
      };
      var disqus_script_url = 'https://realpython.disqus.com/embed.js';
    </script>
<script src="./How to Do a Binary Search in Python – Real Python_files/lazydisqus.3a3e39583b32.js.download" defer=""></script>
<script src="./How to Do a Binary Search in Python – Real Python_files/OneSignalSDK.js.download" async=""></script>
<script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(function() {
      OneSignal.init({
        appId: "c0081e20-a523-42bb-b0ac-04c5a9e8bf40"
      });
    });
  </script>
<script src="./How to Do a Binary Search in Python – Real Python_files/articlevc.11f8c3a3f08d.js.download" defer=""></script>
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "How to Do a Binary Search in Python",
    
    "image": {
      "@type": "ImageObject",
      "url": "https://files.realpython.com/media/How-to-Do-a-Binary-Search-in-Python_Watermarked.e06f21f5a58b.jpg",
      "width": 1920,
      "height": 1080
    },
    
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://realpython.com/binary-search-python/"
    },
    "datePublished": "2020-03-16T14:00:00+00:00",
    "dateModified": "2020-08-28T23:25:19.221613+00:00",
     "publisher": {
      "@type": "Organization",
      "name": "Real Python",
      "logo": {
        "@type": "ImageObject",
        "url": "https://realpython.com/static/real-python-logo-square-tiny.b2452b6d3823.png",
        "width": 60,
        "height": 60
      }
    },
    "author": {
      "@type": "Organization",
      "name": "Real Python",
      "url": "https://realpython.com",
      "logo": "https://realpython.com/static/real-python-logo-square.146e987bf77c.png"
    },
    "description": "Binary search is a classic algorithm in computer science. In this step-by-step tutorial, you&#x27;ll learn how to implement this algorithm in Python. You&#x27;ll learn how to leverage existing libraries as well as craft your own binary search Python implementation."
  }
  </script>
<script>
  var _dcq = _dcq || [];
  var _dcs = _dcs || {};
  _dcs.account = '6214500';

  (function() {
    var dc = document.createElement('script');
    dc.type = 'text/javascript'; dc.async = true;
    dc.src = '//tag.getdrip.com/6214500.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(dc, s);
  })();
</script>
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '2220911568135371');
  fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=2220911568135371&ev=PageView&noscript=1"
/></noscript>


<script src="./How to Do a Binary Search in Python – Real Python_files/code" async=""></script><iframe src="./How to Do a Binary Search in Python – Real Python_files/webPushAnalytics.html" style="display: none;"></iframe><div id="onesignal-bell-container" class="onesignal-bell-container onesignal-reset onesignal-bell-container-bottom-left"><div id="onesignal-bell-launcher" class="onesignal-bell-launcher onesignal-bell-launcher-md onesignal-bell-launcher-bottom-left onesignal-bell-launcher-theme-default onesignal-bell-launcher-active" style="bottom: 15px; left: 15px;"><div class="onesignal-bell-launcher-button"><svg class="onesignal-bell-svg" xmlns="http://www.w3.org/2000/svg" width="99.7" height="99.7" viewBox="0 0 99.7 99.7" style="filter: drop-shadow(0 2px 4px rgba(34,36,38,0.35));; -webkit-filter: drop-shadow(0 2px 4px rgba(34,36,38,0.35));;"><circle class="background" cx="49.9" cy="49.9" r="49.9" style="fill: rgb(208, 2, 27);"></circle><path class="foreground" d="M50.1 66.2H27.7s-2-.2-2-2.1c0-1.9 1.7-2 1.7-2s6.7-3.2 6.7-5.5S33 52.7 33 43.3s6-16.6 13.2-16.6c0 0 1-2.4 3.9-2.4 2.8 0 3.8 2.4 3.8 2.4 7.2 0 13.2 7.2 13.2 16.6s-1 11-1 13.3c0 2.3 6.7 5.5 6.7 5.5s1.7.1 1.7 2c0 1.8-2.1 2.1-2.1 2.1H50.1zm-7.2 2.3h14.5s-1 6.3-7.2 6.3-7.3-6.3-7.3-6.3z" style="fill: rgb(255, 255, 255);"></path><ellipse class="stroke" cx="49.9" cy="49.9" rx="37.4" ry="36.9" style="stroke: rgb(255, 255, 255);"></ellipse></svg></div><div class="onesignal-bell-launcher-badge" style="filter: drop-shadow(0 2px 4px rgba(34,36,38,0));; -webkit-filter: drop-shadow(0 2px 4px rgba(34,36,38,0));;"></div><div class="onesignal-bell-launcher-message"><div class="onesignal-bell-launcher-message-body"></div></div><div class="onesignal-bell-launcher-dialog" style="filter: drop-shadow(0px 2px 2px rgba(34,36,38,.15));; -webkit-filter: drop-shadow(0px 2px 2px rgba(34,36,38,.15));;"><div class="onesignal-bell-launcher-dialog-body"></div></div></div></div></body><iframe sandbox="allow-scripts allow-same-origin" id="382257d219eaaa3" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0px;width:0px;display:none;" scrolling="no" src="https://sync.rtk.io/cs">
    </iframe></html>